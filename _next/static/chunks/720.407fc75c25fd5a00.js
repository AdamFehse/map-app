"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{6720:(e,t,r)=>{r.r(t),r.d(t,{default:()=>q});var n=r(5155),i=r(2115),o=r(833),a=r(5402),s=r(3710),l=r(8741);r(8413);var c=r(6756),d=r(9579),h=r(4918),x=r(1983),u=r(6331),p=r(6017),m=r(2091),j=r(8998),A=r(9561),g=r(894),f=r(2241),y=r(152),v=r(1441),b=r(391),k=r(1118),C=r(4286),w=r(4244),L=r(1837),S=r(8205),P=r(2678),N=r(507),D=r(2664),B=r(1888);function I(e){let{categories:t=[],onSelectCategory:r,selectedCategory:o}=e,[a,s]=(0,i.useState)(!1),l=e=>{s(!1),r(e)};return(0,n.jsx)(j.A,{sx:{minWidth:120},children:(0,n.jsxs)(P.A,{fullWidth:!0,children:[(0,n.jsx)(N.A,{id:"category-select-label",children:"Category"}),(0,n.jsxs)(D.A,{labelId:"category-select-label",id:"category-select",open:a,onClose:()=>s(!1),onOpen:()=>s(!0),value:o||"",label:"Category",children:[(0,n.jsx)(B.A,{onClick:()=>l(""),children:"All Projects"},"all"),t.map((e,t)=>(0,n.jsx)(B.A,{onClick:()=>l(e.Value||e.value),children:e.Label||e.label||e.Value||e.value},e.Value||e.value||"category-".concat(t)))]})]})})}function E(e){let{filteredProjects:t,onSelectCategory:r,selectedCategory:o,markerRefs:a,isDarkMode:s,toggleDarkMode:l,categories:P=[]}=e,[N,D]=(0,i.useState)(!1),[B,E]=(0,i.useState)(""),T=()=>D(!N),[O,W]=(0,i.useState)(!0),F=(0,c.ko)();console.log("Filtered Projects:",t),console.log("Selected Category:",o);let U=null==t?void 0:t.filter(e=>{var t,r,n;let i=B.toLowerCase();return(null===(t=e.Name)||void 0===t?void 0:t.toLowerCase().includes(i))||(null===(r=e.DescriptionShort)||void 0===r?void 0:r.toLowerCase().includes(i))||(null===(n=e.Description)||void 0===n?void 0:n.toLowerCase().includes(i))}),_=e=>{let r=parseFloat(e.Latitude),n=parseFloat(e.Longitude);console.log("Navigating to:",r,n);let i=t.findIndex(t=>t.Name===e.Name&&t.Latitude===e.Latitude&&t.Longitude===e.Longitude),o="".concat(e.Name,"-").concat(i);isNaN(r)||isNaN(n)?console.error("Invalid coordinates:",r,n):(null==a?void 0:a.current[o])?(F.flyTo([r,n],13,{animate:!0}),a.current[o].openPopup()):console.warn('Marker for key "'.concat(o,'" not found.'))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Ay,{variant:"permanent",anchor:O?"left":"right",PaperProps:{sx:{width:60,flexShrink:0,"& .MuiDrawer-paper":{width:60,boxSizing:"border-box",backgroundColor:s?"#1a1a1a":"#ffffff",color:s?"#ffffff":"#000000"}}},children:(0,n.jsxs)(h.A,{children:[(0,n.jsx)(x.Ay,{disablePadding:!0,children:(0,n.jsx)(u.A,{title:"Menu",placement:"right",children:(0,n.jsx)(p.A,{sx:{justifyContent:"center"},onClick:T,children:(0,n.jsx)(m.A,{sx:{minWidth:"auto"},children:(0,n.jsx)(k.A,{})})})})}),(0,n.jsx)(x.Ay,{disablePadding:!0,children:(0,n.jsx)(u.A,{title:"Toggle Dark Mode",placement:"right",children:(0,n.jsx)(p.A,{sx:{justifyContent:"center"},onClick:l,children:(0,n.jsx)(m.A,{sx:{minWidth:"auto"},children:(0,n.jsx)(C.A,{})})})})}),(0,n.jsx)(x.Ay,{disablePadding:!0,children:(0,n.jsx)(u.A,{title:"Toggle Sidebar Position",placement:"right",children:(0,n.jsx)(p.A,{sx:{justifyContent:"center"},onClick:()=>W(!O),children:(0,n.jsx)(m.A,{sx:{minWidth:"auto"},children:(0,n.jsx)(w.A,{})})})})})]})}),(0,n.jsxs)(d.Ay,{anchor:O?"left":"right",open:N,onClose:T,variant:"temporary",PaperProps:{sx:{width:300,backgroundColor:s?"#1a1a1a":"#ffffff",color:s?"#ffffff":"#000000"}},children:[(0,n.jsxs)(j.A,{sx:{display:"flex",alignItems:"center",p:1},children:[(0,n.jsx)(A.A,{variant:"h6",children:"Projects"}),(0,n.jsx)(g.A,{onClick:T,children:(0,n.jsx)(L.A,{})})]}),(0,n.jsx)(f.A,{}),(0,n.jsx)(j.A,{sx:{p:2},children:(0,n.jsx)(y.A,{fullWidth:!0,variant:"outlined",placeholder:"Search projects...",value:B,onChange:e=>{E(e.target.value)},InputProps:{startAdornment:(0,n.jsx)(v.A,{position:"start",children:(0,n.jsx)(S.A,{})})}})}),(0,n.jsx)(j.A,{sx:{p:2},children:(0,n.jsx)(I,{onSelectCategory:r,selectedCategory:o,categories:P})}),(0,n.jsx)(h.A,{children:null==U?void 0:U.map(e=>{let r=t.findIndex(t=>t.Name===e.Name&&t.Latitude===e.Latitude&&t.Longitude===e.Longitude),i="".concat(e.Name,"-").concat(r,"-").concat(e.Latitude,"-").concat(e.Longitude);return(0,n.jsx)(x.Ay,{disablePadding:!0,children:(0,n.jsx)(p.A,{onClick:()=>_(e),children:(0,n.jsx)(b.A,{primary:e.Name,secondary:e.DescriptionShort})})},i)})})]})]})}var T=r(8416),O=r(6417),W=r(7753),F=r(5417),U=r(8562),_=r(2282),M=r(6214);let R=e=>{let{open:t,onClose:r,project:i,isDarkMode:o}=e;return i?(0,n.jsxs)(T.A,{open:t,onClose:r,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{backgroundColor:o?"#333":"#fff",color:o?"#fff":"#000"}},children:[(0,n.jsxs)(O.A,{children:[i.Name,i.FacultyFellow&&(0,n.jsxs)(A.A,{variant:"subtitle1",color:"text.secondary",sx:{mt:1},children:["By ",i.FacultyFellow]})]}),(0,n.jsx)(W.A,{children:(0,n.jsxs)(F.Ay,{container:!0,spacing:3,children:[i.ImageUrl&&(0,n.jsx)(F.Ay,{item:!0,xs:12,children:(0,n.jsx)("img",{src:i.ImageUrl,alt:i.Name,style:{width:"100%",maxHeight:"300px",objectFit:"cover",borderRadius:"8px"}})}),i.Location&&(0,n.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,n.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Location"}),(0,n.jsxs)(A.A,{variant:"body1",paragraph:!0,children:["\uD83D\uDCCD ",i.Location]})]}),i.DescriptionLong||i.DescriptionShort?(0,n.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,n.jsxs)(A.A,{variant:"h6",gutterBottom:!0,children:["Description: ",i.ProjectName]}),(0,n.jsx)(A.A,{variant:"body1",paragraph:!0,children:i.DescriptionLong||i.DescriptionShort})]}):null,i.Background&&(0,n.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,n.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Background"}),(0,n.jsx)(A.A,{variant:"body1",paragraph:!0,children:i.Background})]}),i.Education&&i.Education.length>0&&(0,n.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,n.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Education"}),i.Education.map((e,t)=>(0,n.jsxs)(A.A,{variant:"body1",paragraph:!0,children:["â€¢ ",e]},t))]}),i.Affiliation&&(0,n.jsxs)(F.Ay,{item:!0,xs:12,md:6,children:[(0,n.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Affiliation"}),(0,n.jsx)(A.A,{variant:"body1",children:i.Affiliation})]}),i.College&&(0,n.jsxs)(F.Ay,{item:!0,xs:12,md:6,children:[(0,n.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"College"}),(0,n.jsx)(A.A,{variant:"body1",children:i.College})]}),i.Department&&(0,n.jsxs)(F.Ay,{item:!0,xs:12,md:6,children:[(0,n.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Department"}),(0,n.jsx)(A.A,{variant:"body1",children:i.Department})]}),i.Year&&(0,n.jsxs)(F.Ay,{item:!0,xs:12,md:6,children:[(0,n.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Year"}),(0,n.jsx)(A.A,{variant:"body1",children:i.Year})]}),i.Outcome&&i.Outcome.Type&&(0,n.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,n.jsx)(f.A,{sx:{my:2}}),(0,n.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Outcome"}),(0,n.jsxs)(U.A,{elevation:2,sx:{p:2,backgroundColor:o?"#444":"#f5f5f5"},children:[(0,n.jsx)(A.A,{variant:"subtitle1",children:i.Outcome.Title}),(0,n.jsx)(A.A,{variant:"body2",paragraph:!0,children:i.Outcome.Summary}),i.Outcome.Link&&(0,n.jsx)(_.A,{variant:"contained",color:"primary",href:i.Outcome.Link,target:"_blank",rel:"noopener noreferrer",children:"View Outcome"})]})]}),i.HasArtwork&&i.Artworks&&i.Artworks.length>0&&(0,n.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,n.jsx)(f.A,{sx:{my:2}}),(0,n.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Artworks"}),(0,n.jsx)(F.Ay,{container:!0,spacing:2,children:i.Artworks.map((e,t)=>(0,n.jsx)(F.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,n.jsxs)(U.A,{elevation:2,sx:{p:2,backgroundColor:o?"#444":"#f5f5f5"},children:[e.ImageUrl&&(0,n.jsx)("img",{src:e.ImageUrl,alt:e.Title,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"4px",marginBottom:"8px"}}),(0,n.jsx)(A.A,{variant:"subtitle1",children:e.Title}),(0,n.jsx)(A.A,{variant:"body2",children:e.Description})]})},t))})]}),i.HasPoems&&i.Poems&&i.Poems.length>0&&(0,n.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,n.jsx)(f.A,{sx:{my:2}}),(0,n.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Poems"}),(0,n.jsx)(F.Ay,{container:!0,spacing:2,children:i.Poems.map((e,t)=>(0,n.jsx)(F.Ay,{item:!0,xs:12,children:(0,n.jsxs)(U.A,{elevation:2,sx:{p:2,backgroundColor:o?"#444":"#f5f5f5"},children:[(0,n.jsx)(A.A,{variant:"subtitle1",children:e.Title}),(0,n.jsx)(A.A,{variant:"body1",style:{whiteSpace:"pre-line"},children:e.Content}),e.Author&&(0,n.jsxs)(A.A,{variant:"subtitle2",sx:{mt:1,fontStyle:"italic"},children:["- ",e.Author]})]})},t))})]}),i.Activities&&i.Activities.length>0&&(0,n.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,n.jsx)(f.A,{sx:{my:2}}),(0,n.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Activities"}),(0,n.jsx)(F.Ay,{container:!0,spacing:2,children:i.Activities.map((e,t)=>(0,n.jsx)(F.Ay,{item:!0,xs:12,children:(0,n.jsxs)(U.A,{elevation:2,sx:{p:2,backgroundColor:o?"#444":"#f5f5f5"},children:[(0,n.jsx)(A.A,{variant:"subtitle1",children:e.Title}),(0,n.jsx)(A.A,{variant:"body2",paragraph:!0,children:e.Description}),e.Date&&(0,n.jsx)(A.A,{variant:"caption",color:"text.secondary",children:e.Date}),e.Link&&(0,n.jsx)(_.A,{variant:"text",color:"primary",href:e.Link,target:"_blank",rel:"noopener noreferrer",sx:{mt:1},children:"Learn More"})]})},t))})]}),i.relatedUrls&&i.relatedUrls.length>0&&(0,n.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,n.jsx)(f.A,{sx:{my:2}}),(0,n.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Related Links"}),(0,n.jsx)(F.Ay,{container:!0,spacing:2,children:i.relatedUrls.map((e,t)=>(0,n.jsx)(F.Ay,{item:!0,xs:12,children:(0,n.jsx)(_.A,{href:e.url,target:"_blank",rel:"noopener noreferrer",variant:"outlined",fullWidth:!0,children:e.title})},t))})]})]})}),(0,n.jsx)(M.A,{children:(0,n.jsx)(_.A,{onClick:r,color:"primary",children:"Close"})})]}):null};var z=r(2127);let H=[32.2217,-110.9265],V=(0,l.divIcon)({className:"custom-div-icon",html:'<div style="background-color: #e74c3c; width: 12px; height: 12px; border-radius: 50%; border: 2px solid white;"></div>',iconSize:[12,12],iconAnchor:[6,6],popupAnchor:[0,-5]}),Y=(0,l.divIcon)({className:"custom-div-icon",html:'<div style="background-color:rgb(0, 255, 247); width: 16px; height: 16px; border-radius: 50%; border: 3px solid blue; box-shadow: 0 0 10px rgba(231, 76, 60, 0.5);"></div>',iconSize:[16,16],iconAnchor:[8,8],popupAnchor:[0,-5]});function q(){let{projects:e,filteredProjects:t,filterProjects:r,categories:l}=function(){let[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)([]),[o,a]=(0,i.useState)([]),[s,l]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("https://raw.githubusercontent.com/AdamFehse/map-app/gh-pages/storymapdata_db_ready.json");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let r=await e.json();t(r),n(r);let i=[...new Set(r.map(e=>e.ProjectCategory))].filter(Boolean).map(e=>({Value:e,Label:e.replace(/([A-Z])/g," $1").trim()}));a(i)}catch(e){console.error("Error fetching data:",e),l(e.message)}})()},[]),{projects:e,filteredProjects:r,categories:o,error:s,filterProjects:t=>{if(!t){n(e);return}n(e.filter(e=>e.projectCategory===t))},getProjectsWithArtworks:()=>e.filter(e=>e.artworks&&e.artworks.length>0),getProjectsWithPoems:()=>e.filter(e=>e.poems&&e.poems.length>0),getUniqueActivities:()=>{let t=new Set;return e.forEach(e=>{e.activities&&e.activities.forEach(e=>{t.add(e)})}),Array.from(t)}}}(),[c,d]=(0,i.useState)(""),[h,x]=(0,i.useState)(null),[u,p]=(0,i.useState)(!1),m=(0,i.useRef)({});(0,i.useRef)(null);let[j,A]=(0,i.useState)(null),g=e=>{x(e),p(!0)};return(0,i.useEffect)(()=>{t&&t.forEach((e,t)=>{let r="".concat(e.Name,"-").concat(t),n=m.current[r];if(n){let r=document.createElement("div");r.innerHTML='\n          <div class="popup-content">\n            <img \n              src="'.concat(e.ImageUrl||"https://via.placeholder.com/150",'" \n              alt="').concat(e.Name,'" \n              class="popup-image" \n            />\n            <strong>').concat(e.Name,'</strong>\n            <p class="popup-description">').concat(e.DescriptionShort||e.Description||"",'</p>\n            <button id="more-details-').concat(t,'" class="popup-button">\n              More Details\n            </button>\n          </div>\n        ');let i=z.L({hasTip:!1,autoPan:!0}).setContent(r);n.bindPopup(i),n.on("click",()=>{Object.values(m.current).forEach(e=>{e&&e.setIcon(V)}),n.setIcon(Y),A(n)}),n.on("popupopen",()=>{Object.values(m.current).forEach(e=>{e&&e.setIcon(V)}),n.setIcon(Y),A(n)}),n.on("popupclose",()=>{n.setIcon(V),A(null)});let o=r.querySelector("#more-details-".concat(t));o&&o.addEventListener("click",()=>{g(e)})}})},[t]),(0,n.jsxs)("div",{className:"map-container",children:[(0,n.jsxs)(o.W,{center:H,zoom:11,style:{height:"100vh",width:"100%"},children:[(0,n.jsx)(a.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),null==t?void 0:t.map((e,t)=>{let r="".concat(e.Name,"-").concat(t);return(0,n.jsx)(s.p,{position:[e.Latitude,e.Longitude],icon:V,ref:e=>{e&&(m.current[r]=e)}},r)}),(0,n.jsx)(E,{filteredProjects:t,onSelectCategory:r,selectedCategory:c,markerRefs:m,categories:l})]}),h&&(0,n.jsx)(R,{project:h,open:u,onClose:()=>{p(!1),x(null)}})]})}}}]);