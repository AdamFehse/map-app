(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{2427:()=>{},6720:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Q});var n=s(5155),a=s(2115),r=s(833),i=s(5402),o=s(3710),l=s(8741);s(8413);var c=s(6756),d=s(9579),h=s(4918),u=s(1983),m=s(6331),x=s(6017),p=s(2091),g=s(5436),j=s(9561),A=s(894),f=s(2241),v=s(152),b=s(1441),N=s(391),y=s(1118),k=s(4286),w=s(4244),D=s(1837),C=s(8205),L=s(2678),S=s(507),P=s(2664),E=s(1888);function I(e){let{categories:t=[],onSelectCategory:s,selectedCategory:r}=e,[i,o]=(0,a.useState)(!1),l=e=>{o(!1),s(e)};return(0,n.jsx)(g.A,{sx:{minWidth:120},children:(0,n.jsxs)(L.A,{fullWidth:!0,children:[(0,n.jsx)(S.A,{id:"category-select-label",children:"Category"}),(0,n.jsxs)(P.A,{labelId:"category-select-label",id:"category-select",open:i,onClose:()=>o(!1),onOpen:()=>o(!0),value:r||"",label:"Category",children:[(0,n.jsx)(E.A,{onClick:()=>l(""),children:"All Projects"},"all"),t.map((e,t)=>(0,n.jsx)(E.A,{onClick:()=>l(e.Value||e.value),children:e.Label||e.label||e.Value||e.value},e.Value||e.value||"category-".concat(t)))]})]})})}var F=s(9388);function T(e){let{filteredProjects:t,onSelectCategory:s,selectedCategory:r,markerRefs:i,categories:o=[]}=e,[l,L]=(0,a.useState)(!1),[S,P]=(0,a.useState)(""),E=()=>L(!l),[T,O]=(0,a.useState)(!0),U=(0,c.ko)(),{isDarkMode:W,toggleDarkMode:M}=(0,F.D)();(0,a.useEffect)(()=>{document.body.classList.toggle("dark-mode",W)},[W]),console.log("Filtered Projects:",t),console.log("Selected Category:",r);let V=null==t?void 0:t.filter(e=>{var t,s,n;let a=S.toLowerCase();return(null===(t=e.Name)||void 0===t?void 0:t.toLowerCase().includes(a))||(null===(s=e.DescriptionShort)||void 0===s?void 0:s.toLowerCase().includes(a))||(null===(n=e.Description)||void 0===n?void 0:n.toLowerCase().includes(a))}),_=e=>{let s=parseFloat(e.Latitude),n=parseFloat(e.Longitude);console.log("Navigating to:",s,n);let a=t.findIndex(t=>t.Name===e.Name&&t.Latitude===e.Latitude&&t.Longitude===e.Longitude),r="".concat(e.Name,"-").concat(a);isNaN(s)||isNaN(n)?console.error("Invalid coordinates:",s,n):(null==i?void 0:i.current[r])?(U.flyTo([s,n],13,{animate:!0}),i.current[r].openPopup()):console.warn('Marker for key "'.concat(r,'" not found.'))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{children:"\n  @keyframes intense-pulse-glow {\n    0% {\n      filter: drop-shadow(0 0 8px rgb(255, 0, 0)) drop-shadow(0 0 20px rgba(255, 0, 0, 0.8)) drop-shadow(0 0 35px rgba(255, 0, 0, 0.4));\n      transform: scale(1);\n    }\n    25% {\n      filter: drop-shadow(0 0 12px rgb(0, 255, 17)) drop-shadow(0 0 30px rgba(255, 255, 0, 0.9)) drop-shadow(0 0 50px rgba(255, 255, 0, 0.5));\n      transform: scale(1.05);\n    }\n    50% {\n      filter: drop-shadow(0 0 15px rgb(0, 255, 255)) drop-shadow(0 0 40px rgba(0, 255, 255, 1)) drop-shadow(0 0 65px rgba(0, 255, 255, 0.6));\n      transform: scale(1.08);\n    }\n    75% {\n      filter: drop-shadow(0 0 12px rgb(255, 0, 255)) drop-shadow(0 0 30px rgba(255, 0, 255, 0.9)) drop-shadow(0 0 50px rgba(255, 0, 255, 0.5));\n      transform: scale(1.05);\n    }\n    100% {\n      filter: drop-shadow(0 0 8px rgb(0, 55, 255)) drop-shadow(0 0 20px rgba(255, 0, 0, 0.8)) drop-shadow(0 0 35px rgba(255, 0, 0, 0.4));\n      transform: scale(1);\n    }\n  }\n  \n  @keyframes outer-pulse {\n    0% {\n      transform: scale(1);\n      opacity: 0.7;\n    }\n    50% {\n      transform: scale(1.2);\n      opacity: 0.3;\n    }\n    100% {\n      transform: scale(1);\n      opacity: 0.7;\n    }\n  }\n  \n  @keyframes hover-pulse {\n    0% {\n      transform: scale(1);\n      opacity: 0.6;\n    }\n    50% {\n      transform: scale(1.1);\n      opacity: 0.8;\n    }\n    100% {\n      transform: scale(1);\n      opacity: 0.6;\n    }\n  }\n"}),(0,n.jsx)(d.Ay,{variant:"permanent",anchor:T?"left":"right",sx:{width:60,flexShrink:0,"& .MuiDrawer-paper":{width:60,boxSizing:"border-box",backgroundColor:W?"#1a1a1a":"#ffffff",color:W?"#ffffff":"#000000",transition:"background-color 0.3s, color 0.3s"}},children:(0,n.jsxs)(h.A,{children:[(0,n.jsx)(u.Ay,{disablePadding:!0,children:(0,n.jsx)(m.A,{title:"Menu",placement:"right",children:(0,n.jsx)(x.A,{sx:{justifyContent:"center",position:"relative","&::before":{content:'""',position:"absolute",top:"-10px",left:"-10px",right:"-10px",bottom:"-10px",background:l?"none":"radial-gradient(circle, rgba(255,0,0,0.3) 0%, rgba(255,255,0,0.2) 30%, rgba(0,255,255,0.1) 60%, transparent 100%)",borderRadius:"50%",animation:l?"none":"outer-pulse 4s ease-in-out infinite",zIndex:-1},"&:hover":{"& .MuiSvgIcon-root":{filter:"drop-shadow(0 0 20px rgba(0, 255, 26, 1)) drop-shadow(0 0 35px rgba(0, 255, 26, 0.9)) drop-shadow(0 0 50px rgba(0, 255, 26, 0.6))",transition:"all 0.3s ease",transform:"scale(1.2)"},"&::before":{background:"radial-gradient(circle, rgba(0,255,26,0.4) 0%, rgba(0,255,26,0.3) 30%, rgba(0,255,26,0.1) 60%, transparent 100%)",animation:"hover-pulse 4s ease-in-out infinite"}},"& .MuiSvgIcon-root":{filter:l?"drop-shadow(0 0 5px rgba(255,255,255,0.8))":"drop-shadow(0 0 8px rgb(255, 0, 0)) drop-shadow(0 0 20px rgba(255, 0, 0, 0.8)) drop-shadow(0 0 35px rgba(255, 0, 0, 0.4))",transition:"all 4.3s ease",animation:l?"none":"intense-pulse-glow 4.5s ease-in-out infinite",transformOrigin:"center"}},onClick:E,children:(0,n.jsx)(p.A,{sx:{minWidth:"auto"},children:(0,n.jsx)(y.A,{})})})})}),(0,n.jsx)(u.Ay,{disablePadding:!0,children:(0,n.jsx)(m.A,{title:"Toggle Dark Mode",placement:"right",children:(0,n.jsx)(x.A,{sx:{justifyContent:"center"},onClick:M,children:(0,n.jsx)(p.A,{sx:{minWidth:"auto"},children:(0,n.jsx)(k.A,{})})})})}),(0,n.jsx)(u.Ay,{disablePadding:!0,children:(0,n.jsx)(m.A,{title:"Toggle Sidebar Position",placement:"right",children:(0,n.jsx)(x.A,{sx:{justifyContent:"center"},onClick:()=>O(!T),children:(0,n.jsx)(p.A,{sx:{minWidth:"auto"},children:(0,n.jsx)(w.A,{})})})})})]})}),(0,n.jsxs)(d.Ay,{anchor:T?"left":"right",open:l,onClose:E,variant:"temporary",PaperProps:{sx:{width:300,backgroundColor:W?"#1a1a1a":"#ffffff",color:W?"#ffffff":"#000000",transition:"background-color 0.3s, color 0.3s"}},children:[(0,n.jsxs)(g.A,{sx:{display:"flex",alignItems:"center",p:1},children:[(0,n.jsx)(j.A,{variant:"h6",children:"Projects"}),(0,n.jsx)(A.A,{onClick:E,children:(0,n.jsx)(D.A,{})})]}),(0,n.jsx)(f.A,{}),(0,n.jsx)(g.A,{sx:{p:2},children:(0,n.jsx)(v.A,{fullWidth:!0,variant:"outlined",placeholder:"Search projects...",value:S,onChange:e=>{P(e.target.value)},InputProps:{startAdornment:(0,n.jsx)(b.A,{position:"start",children:(0,n.jsx)(C.A,{})})}})}),(0,n.jsx)(g.A,{sx:{p:2},children:(0,n.jsx)(I,{onSelectCategory:s,selectedCategory:r,categories:o})}),(0,n.jsx)(h.A,{children:null==V?void 0:V.map(e=>{let s=t.findIndex(t=>t.Name===e.Name&&t.Latitude===e.Latitude&&t.Longitude===e.Longitude),a="".concat(e.Name,"-").concat(s,"-").concat(e.Latitude,"-").concat(e.Longitude);return(0,n.jsx)(u.Ay,{disablePadding:!0,children:(0,n.jsx)(x.A,{onClick:()=>_(e),children:(0,n.jsx)(N.A,{primary:e.Name,secondary:e.DescriptionShort})})},a)})})]})]})}var O=s(6228),U=s(2277),W=s(8562),M=s(2282),V=s(6214),_=s(9241),R=s(8749),z=s(6327),B=s(8917),H=s(2023);s(2427);let Y=e=>{let{open:t,onClose:s,project:r}=e,{isDarkMode:i}=(0,F.D)(),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[h,u]=(0,a.useState)(0),[m,x]=(0,a.useState)([]),p=(0,a.useRef)(null);if((0,a.useEffect)(()=>{if(!r)return;let e=[];r.ImageUrl&&e.push({src:r.ImageUrl,title:r.Name,type:"project"}),r.Artworks&&r.Artworks.length>0&&r.Artworks.forEach((t,s)=>{t.ImageUrl&&e.push({src:t.ImageUrl,title:t.Title,type:"artwork",description:t.Description})}),x(e)},[r]),(0,a.useEffect)(()=>{let e=()=>{p.current&&l(p.current.scrollTop>50)},t=p.current;if(t)return t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)},[]),(0,a.useEffect)(()=>{let e=e=>{c&&("Escape"===e.key&&v(),"ArrowRight"===e.key&&b(),"ArrowLeft"===e.key&&N())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[c]),!r)return null;let A=e=>{u(e),d(!0)},v=()=>{d(!1)},b=()=>{u(e=>(e+1)%m.length)},N=()=>{u(e=>(e-1+m.length)%m.length)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(O.A,{open:t,onClose:s,maxWidth:"md",fullWidth:!0,className:"project-modal ".concat(i?"dark-mode":""),children:[(0,n.jsxs)(g.A,{className:"modal-header-visual ".concat(o?"collapsed":""),children:[r.ImageUrl&&(0,n.jsx)("img",{src:r.ImageUrl,alt:r.Name,className:"project-image-header"}),(0,n.jsxs)(g.A,{className:"modal-title-overlay",children:[(0,n.jsx)(j.A,{variant:"h4",component:"h2",className:"modal-title-h2",children:r.Name}),r.FacultyFellow&&(0,n.jsxs)(j.A,{variant:"subtitle1",className:"faculty-fellow",children:["By ",r.FacultyFellow]})]})]}),(0,n.jsx)(U.A,{className:"modal-content",ref:p,children:(0,n.jsxs)(_.A,{container:!0,spacing:4,children:[r.Location&&(0,n.jsx)(_.A,{xs:12,children:(0,n.jsxs)(g.A,{className:"info-section",children:[(0,n.jsx)(j.A,{variant:"h6",className:"section-title",children:"\uD83D\uDCCD Location"}),(0,n.jsx)(j.A,{variant:"body1",className:"section-content",children:r.Location})]})}),r.DescriptionLong||r.DescriptionShort?(0,n.jsx)(_.A,{xs:12,children:(0,n.jsxs)(g.A,{className:"info-section",children:[(0,n.jsx)(j.A,{variant:"h6",className:"section-title",children:"\uD83D\uDCDD Description"}),(0,n.jsx)(j.A,{variant:"body1",className:"section-content",children:r.DescriptionLong||r.DescriptionShort})]})}):null,r.Background&&(0,n.jsx)(_.A,{xs:12,children:(0,n.jsxs)(g.A,{className:"info-section",children:[(0,n.jsx)(j.A,{variant:"h6",className:"section-title",children:"\uD83C\uDFAF Background"}),(0,n.jsx)(j.A,{variant:"body1",className:"section-content",children:r.Background})]})}),r.Education&&r.Education.length>0&&(0,n.jsx)(_.A,{xs:12,children:(0,n.jsxs)(g.A,{className:"info-section",children:[(0,n.jsx)(j.A,{variant:"h6",className:"section-title",children:"\uD83C\uDF93 Education"}),r.Education.map((e,t)=>(0,n.jsx)(j.A,{variant:"body1",className:"education-item",children:e},t))]})}),(r.Affiliation||r.College||r.Department||r.Year)&&(0,n.jsx)(_.A,{xs:12,children:(0,n.jsxs)(_.A,{container:!0,spacing:3,children:[r.Affiliation&&(0,n.jsx)(_.A,{xs:12,sm:6,children:(0,n.jsxs)(g.A,{className:"info-section",children:[(0,n.jsx)(j.A,{variant:"h6",className:"section-title",children:"\uD83C\uDFE2 Affiliation"}),(0,n.jsx)(j.A,{variant:"body1",className:"section-content",children:r.Affiliation})]})}),r.College&&(0,n.jsx)(_.A,{xs:12,sm:6,children:(0,n.jsxs)(g.A,{className:"info-section",children:[(0,n.jsx)(j.A,{variant:"h6",className:"section-title",children:"\uD83C\uDFDB️ College"}),(0,n.jsx)(j.A,{variant:"body1",className:"section-content",children:r.College})]})}),r.Department&&(0,n.jsx)(_.A,{xs:12,sm:6,children:(0,n.jsxs)(g.A,{className:"info-section",children:[(0,n.jsx)(j.A,{variant:"h6",className:"section-title",children:"\uD83D\uDCDA Department"}),(0,n.jsx)(j.A,{variant:"body1",className:"section-content",children:r.Department})]})}),r.Year&&(0,n.jsx)(_.A,{xs:12,sm:6,children:(0,n.jsxs)(g.A,{className:"info-section",children:[(0,n.jsx)(j.A,{variant:"h6",className:"section-title",children:"\uD83D\uDCC5 Year"}),(0,n.jsx)(j.A,{variant:"body1",className:"section-content",children:r.Year})]})})]})}),r.Outcome&&r.Outcome.Type&&(0,n.jsxs)(_.A,{xs:12,children:[(0,n.jsx)(f.A,{className:"section-divider"}),(0,n.jsxs)(g.A,{className:"info-section",children:[(0,n.jsx)(j.A,{variant:"h6",className:"section-title",children:"\uD83C\uDFAF Outcome"}),(0,n.jsxs)(W.A,{className:"outcome-card",children:[(0,n.jsx)(j.A,{variant:"h6",className:"outcome-title",children:r.Outcome.Title}),(0,n.jsx)(j.A,{variant:"body1",className:"outcome-summary",children:r.Outcome.Summary}),r.Outcome.Link&&(0,n.jsx)(M.A,{variant:"contained",color:"primary",href:r.Outcome.Link,target:"_blank",rel:"noopener noreferrer",className:"outcome-button",children:"View Outcome"})]})]})]}),r.HasArtwork&&r.Artworks&&r.Artworks.length>0&&(0,n.jsxs)(_.A,{xs:12,children:[(0,n.jsx)(f.A,{className:"section-divider"}),(0,n.jsxs)(g.A,{className:"info-section",children:[(0,n.jsxs)(j.A,{variant:"h6",className:"section-title",children:["\uD83C\uDFA8 Artworks (",r.Artworks.length,")"]}),(0,n.jsx)("div",{className:"artwork-gallery",children:r.Artworks.map((e,t)=>(0,n.jsxs)(W.A,{className:"artwork-card",onClick:()=>{let t=m.findIndex(t=>t.src===e.ImageUrl);-1!==t&&A(t)},children:[e.ImageUrl&&(0,n.jsxs)("div",{className:"artwork-image-container",children:[(0,n.jsx)("img",{src:e.ImageUrl,alt:e.Title,className:"artwork-image"}),(0,n.jsx)("div",{className:"artwork-image-overlay",children:(0,n.jsx)(R.A,{})})]}),(0,n.jsxs)("div",{className:"artwork-content",children:[(0,n.jsx)(j.A,{variant:"h6",className:"artwork-title",children:e.Title}),(0,n.jsx)(j.A,{variant:"body2",className:"artwork-description",children:e.Description})]})]},t))})]})]}),r.HasPoems&&r.Poems&&r.Poems.length>0&&(0,n.jsxs)(_.A,{xs:12,children:[(0,n.jsx)(f.A,{className:"section-divider"}),(0,n.jsxs)(g.A,{className:"info-section",children:[(0,n.jsxs)(j.A,{variant:"h6",className:"section-title",children:["\uD83D\uDCDC Poems (",r.Poems.length,")"]}),(0,n.jsx)(_.A,{container:!0,spacing:3,children:r.Poems.map((e,t)=>(0,n.jsx)(_.A,{xs:12,children:(0,n.jsxs)(W.A,{className:"poem-card",children:[(0,n.jsx)(j.A,{variant:"h6",className:"poem-title",children:e.Title}),(0,n.jsx)(j.A,{variant:"body1",className:"poem-content",children:e.Content}),e.Author&&(0,n.jsxs)(j.A,{variant:"subtitle2",className:"poem-author",children:["- ",e.Author]})]})},t))})]})]}),r.Activities&&r.Activities.length>0&&(0,n.jsxs)(_.A,{xs:12,children:[(0,n.jsx)(f.A,{className:"section-divider"}),(0,n.jsxs)(g.A,{className:"info-section",children:[(0,n.jsxs)(j.A,{variant:"h6",className:"section-title",children:["\uD83C\uDFAA Activities (",r.Activities.length,")"]}),(0,n.jsx)(_.A,{container:!0,spacing:3,children:r.Activities.map((e,t)=>(0,n.jsx)(_.A,{xs:12,children:(0,n.jsxs)(W.A,{className:"activity-card",children:[(0,n.jsx)(j.A,{variant:"h6",className:"activity-title",children:e.Title}),(0,n.jsx)(j.A,{variant:"body1",className:"activity-description",children:e.Description}),e.Date&&(0,n.jsxs)(j.A,{variant:"caption",className:"activity-date",children:["\uD83D\uDCC5 ",e.Date]}),e.Link&&(0,n.jsx)(M.A,{variant:"text",color:"primary",href:e.Link,target:"_blank",rel:"noopener noreferrer",className:"activity-link",children:"Learn More"})]})},t))})]})]}),r.relatedUrls&&r.relatedUrls.length>0&&(0,n.jsxs)(_.A,{xs:12,children:[(0,n.jsx)(f.A,{className:"section-divider"}),(0,n.jsxs)(g.A,{className:"info-section",children:[(0,n.jsxs)(j.A,{variant:"h6",className:"section-title",children:["\uD83D\uDD17 Related Links (",r.relatedUrls.length,")"]}),(0,n.jsx)(_.A,{container:!0,spacing:2,children:r.relatedUrls.map((e,t)=>(0,n.jsx)(_.A,{xs:12,children:(0,n.jsx)(M.A,{href:e.url,target:"_blank",rel:"noopener noreferrer",variant:"outlined",fullWidth:!0,className:"related-link-button",children:e.title})},t))})]})]})]})}),(0,n.jsx)(V.A,{className:"modal-actions",children:(0,n.jsx)(M.A,{onClick:s,variant:"contained",className:"close-button",children:"Close"})})]}),(0,n.jsx)("div",{className:"image-lightbox ".concat(c?"open":""),onClick:v,children:(0,n.jsxs)("div",{className:"lightbox-content",onClick:e=>e.stopPropagation(),children:[m.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:m[h].src,alt:m[h].title,className:"lightbox-image"}),(0,n.jsx)(j.A,{className:"lightbox-title",children:m[h].title}),m[h].description&&(0,n.jsx)(j.A,{variant:"body2",style:{color:"white",textAlign:"center",marginTop:"0.5rem",opacity:.8},children:m[h].description})]}),(0,n.jsx)("button",{className:"lightbox-close",onClick:v,children:(0,n.jsx)(z.A,{})}),m.length>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{className:"lightbox-nav prev",onClick:N,children:(0,n.jsx)(B.A,{})}),(0,n.jsx)("button",{className:"lightbox-nav next",onClick:b,children:(0,n.jsx)(H.A,{})})]})]})})]})};var q=s(2127);let G=[32.2217,-110.9265],J=(0,l.divIcon)({className:"custom-div-icon",html:'<div style="background-color: #e74c3c; width: 12px; height: 12px; border-radius: 50%; border: 2px solid white;"></div>',iconSize:[12,12],iconAnchor:[6,6],popupAnchor:[0,-5]}),K=(0,l.divIcon)({className:"custom-div-icon",html:'<div style="background-color:rgb(0, 255, 247); width: 16px; height: 16px; border-radius: 50%; border: 3px solid blue; box-shadow: 0 0 10px rgba(231, 76, 60, 0.5);"></div>',iconSize:[16,16],iconAnchor:[8,8],popupAnchor:[0,-5]});function Q(){let{projects:e,filteredProjects:t,filterProjects:s,categories:l}=function(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[r,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("https://raw.githubusercontent.com/AdamFehse/map-app/gh-pages/storymapdata_db_ready.json");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let s=await e.json();t(s),n(s),i([{Value:"ArtExhibition",Label:"Art Exhibition"},{Value:"Research",Label:"Research"},{Value:"CommunityEngagement",Label:"Community Engagement"},{Value:"Performance",Label:"Performance"},{Value:"Workshop",Label:"Workshop"},{Value:"Conference",Label:"Conference"},{Value:"Publication",Label:"Publication"},{Value:"Other",Label:"Other"}])}catch(e){console.error("Error fetching data:",e),l(e.message)}})()},[]),{projects:e,filteredProjects:s,categories:r,error:o,filterProjects:t=>{if(!t){n(e);return}n(e.filter(e=>e.projectCategory===t))},getProjectsWithArtworks:()=>e.filter(e=>e.artworks&&e.artworks.length>0),getProjectsWithPoems:()=>e.filter(e=>e.poems&&e.poems.length>0),getUniqueActivities:()=>{let t=new Set;return e.forEach(e=>{e.activities&&e.activities.forEach(e=>{t.add(e)})}),Array.from(t)}}}(),[c,d]=(0,a.useState)(""),[h,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),p=(0,a.useRef)({});(0,a.useRef)(null);let[g,j]=(0,a.useState)(null),{isDarkMode:A}=(0,F.D)(),f=e=>{u(e),x(!0)};return(0,a.useEffect)(()=>{t&&t.forEach((e,t)=>{let s="".concat(e.Name,"-").concat(t),n=p.current[s];if(n){let s=document.createElement("div");s.className="responsive-popup-content",s.innerHTML='\n            <img \n              src="'.concat(e.ImageUrl||"https://via.placeholder.com/150",'" \n              alt="').concat(e.Name,'" \n              class="popup-image" \n            />\n            <strong class="popup-title">').concat(e.Name,'</strong>\n            <p class="popup-description">').concat(e.DescriptionShort||e.Description||"",'</p>\n            <button id="more-details-').concat(t,'" class="popup-button">\n              More Details\n            </button>\n        ');let a=q.L({hasTip:!1,autoPan:!0,className:A?"dark-mode-popup":"light-mode-popup"}).setContent(s);n.bindPopup(a),n.on("click",()=>{Object.values(p.current).forEach(e=>{e&&e.setIcon(J)}),n.setIcon(K),j(n)}),n.on("popupopen",()=>{Object.values(p.current).forEach(e=>{e&&e.setIcon(J)}),n.setIcon(K),j(n)}),n.on("popupclose",()=>{n.setIcon(J),j(null)});let r=s.querySelector("#more-details-".concat(t));r&&r.addEventListener("click",()=>{f(e)})}})},[t,A]),(0,n.jsxs)("div",{className:"map-container",children:[(0,n.jsxs)(r.W,{center:G,zoom:11,style:{height:"100vh",width:"100%"},children:[(0,n.jsx)(i.e,{url:A?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),null==t?void 0:t.map((e,t)=>{let s="".concat(e.Name,"-").concat(t);return(0,n.jsx)(o.p,{position:[e.Latitude,e.Longitude],icon:J,ref:e=>{e&&(p.current[s]=e)}},s)}),(0,n.jsx)(T,{filteredProjects:t,onSelectCategory:s,selectedCategory:c,markerRefs:p,categories:l})]}),h&&(0,n.jsx)(Y,{project:h,open:m,onClose:()=>{x(!1),u(null)}})]})}},9388:(e,t,s)=>{"use strict";s.d(t,{D:()=>o,DarkModeProvider:()=>i});var n=s(5155),a=s(2115);let r=(0,a.createContext)();function i(e){let{children:t}=e,[s,i]=(0,a.useState)(!1);return(0,n.jsx)(r.Provider,{value:{isDarkMode:s,toggleDarkMode:()=>i(e=>!e)},children:t})}function o(){return(0,a.useContext)(r)}}}]);