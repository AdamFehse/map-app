(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[108],{2108:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var o=n(5155),r=n(2115),l=n(833),i=n(5402),c=n(3710),s=n(2282),a=n(255),d=n(1888);function p(e){let{onSelectCategory:t}=e,[n,l]=(0,r.useState)(null),i=!!n,c=e=>{l(null),null!==e&&t(e)};return(0,o.jsxs)("div",{children:[(0,o.jsx)(s.A,{variant:"outlined",onClick:e=>{l(e.currentTarget)},"aria-controls":i?"category-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,children:"Select Category"}),(0,o.jsxs)(a.A,{id:"category-menu",anchorEl:n,open:i,onClose:()=>c(null),children:[(0,o.jsx)(d.A,{onClick:()=>c(""),children:"All Projects"}),(0,o.jsx)(d.A,{onClick:()=>c("Art-Based Projects"),children:"Art-Based Projects"}),(0,o.jsx)(d.A,{onClick:()=>c("Research Projects"),children:"Research Projects"}),(0,o.jsx)(d.A,{onClick:()=>c("Education and Community Outreach"),children:"Education and Community Outreach"})]})]})}n(3353),n(8280);var u=n(2127);n(1744),n(4999),n(9235);var x=n(6210),h=n(4736);n(5685),n(5494);var m=n(9030),j=n(8222),g=n(5330),f=n(1644);function A(e){let{project:t,setSelectedContent:n,isDarkMode:r,expandedAccordion:l,setExpandedAccordion:i}=e;if(!t)return null;let c=[];if("TRUE"===t.HasArtwork){let e=[];for(let n=1;n<=8;n++)t["Artwork Title ".concat(n)]&&t["Artwork ImageUrl ".concat(n)]&&e.push({title:t["Artwork Title ".concat(n)],description:t["Artwork Description ".concat(n)],imageUrl:t["Artwork ImageUrl ".concat(n)],activity:t["Activity Title ".concat(n)]});c.push({type:"artwork",title:"Artwork Library",items:e})}if("TRUE"===t.HasPoems){let e=[];for(let n=1;n<=2;n++)(t["Poema ".concat(n)]||t["Poem ".concat(n)])&&e.push({poemaTitle:t["Poema ".concat(n)],poemTitle:t["Poem ".concat(n)],activityTitle:t["Activity Title Poem ".concat(n)],description:t["Poem Description ".concat(n)],text:t["Poema ".concat(n)]||t["Poem ".concat(n)]});c.push({type:"poem",title:"Poems",items:e})}if("TRUE"===t.HasOutcomes){let e=t["Project Outcome"]?[{title:t["Outcome Title"],summary:t["Outcome Summary"],link:t["Outcome Link"]}]:[];e.length>0&&c.push({type:"outcome",title:"Outcomes",items:e})}let s=e=>{i(t=>t===e?null:e)};return(0,o.jsx)(o.Fragment,{children:c.map((e,t)=>(0,o.jsxs)(m.A,{expanded:l===e.type,onChange:()=>s(e.type),style:{backgroundColor:r?"#333":"#fff",color:r?"#fff":"#000"},children:[(0,o.jsx)(j.A,{expandIcon:(0,o.jsx)(f.A,{style:{color:r?"#fff":"#000"}}),children:(0,o.jsx)(h.A,{variant:"h6",children:e.title})}),(0,o.jsx)(g.A,{style:{maxHeight:"60vh",overflowY:"auto"},children:e.items.map((t,l)=>(0,o.jsxs)("div",{style:{cursor:"pointer",marginBottom:"8px",backgroundColor:r?"#444":"#f9f9f9",padding:"8px",borderRadius:"4px",border:r?"1px solid #555":"1px solid #ddd"},onClick:()=>n({type:e.type,content:t}),children:[(0,o.jsx)(h.A,{variant:"subtitle1",style:{fontWeight:"bold",color:r?"#fff":"#000"},children:t.poemaTitle||t.poemTitle||t.title||"Untitled"}),"poem"===e.type&&(0,o.jsx)(h.A,{variant:"body2",style:{color:r?"#ccc":"#666"},children:t.activityTitle}),"outcome"===e.type&&(0,o.jsx)(h.A,{variant:"body2",style:{color:r?"#ccc":"#666"},children:t.summary})]},l))})]},t))})}let y=()=>((0,r.useEffect)(()=>(window.clearLikeCounts=()=>{Object.keys(localStorage).forEach(e=>{e.startsWith("likes-")&&localStorage.removeItem(e)}),console.log("All like counts have been reset!")},()=>{delete window.clearLikeCounts}),[]),null);function k(e){let{projectId:t}=e,[n,l]=(0,r.useState)(0);(0,r.useEffect)(()=>{if(!t)return;let e=localStorage.getItem("likes-".concat(t)),n=e?parseInt(e,10):0;console.log("Loaded Like Count for ".concat(t,": ").concat(n)),l(n)},[t]);let i=e=>{localStorage.setItem("likes-".concat(t),e),console.log("Saving ".concat(e," for likes-").concat(t))};return(0,o.jsxs)("button",{onClick:()=>{let e=n+1;l(e),i(e)},style:{marginTop:"10px"},children:["\uD83D\uDC4D ",n," Likes"]})}function v(e){let{open:t,onClose:n,project:l,isDarkMode:i}=e,[c,a]=(0,r.useState)(null),[d,p]=(0,r.useState)(null);return((0,r.useEffect)(()=>{t&&l||(a(null),p(null))},[t,l]),l)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y,{}),(0,o.jsx)(x.A,{open:t,onClose:n,"aria-labelledby":"project-modal-title","aria-describedby":"project-modal-description",style:{display:"flex",justifyContent:"center",alignItems:"center",overflowY:"auto"},children:(0,o.jsxs)("div",{className:"container-fluid project-details-overlay ".concat(i?"bg-dark text-white":"bg-light text-dark"),children:[(0,o.jsxs)("div",{className:"header",children:[(0,o.jsx)("h4",{children:l["Project Name"]}),(0,o.jsx)(s.A,{variant:"contained",color:"primary",onClick:n,children:"Close"})]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-4 col-12 left-panel",children:(0,o.jsx)(A,{project:l,setSelectedContent:a,expandedAccordion:d,setExpandedAccordion:p,isDarkMode:i})}),(0,o.jsx)("div",{className:"col-md-8 col-12 right-panel",children:c?"artwork"===c.type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.A,{variant:"h5",gutterBottom:!0,children:c.content.title}),(0,o.jsxs)(h.A,{variant:"subtitle1",gutterBottom:!0,children:[(0,o.jsx)("strong",{children:"Activity:"})," ",c.content.activity||"N/A"]}),(0,o.jsx)(h.A,{variant:"body2",style:{marginBottom:"16px"},children:c.content.description||"No description available."}),(0,o.jsx)(k,{projectId:"".concat(l.Project,"-").concat(c.content.title,"-").concat(l.Latitude,"-").concat(l.Longitude)}),(0,o.jsx)("div",{className:"image-container",children:(0,o.jsx)("img",{src:c.content.imageUrl,alt:c.content.title})})]}):"poem"===c.type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.A,{variant:"h5",gutterBottom:!0,children:c.content.poemaTitle||c.content.poemTitle||"Untitled"}),(0,o.jsx)(h.A,{variant:"body2",style:{marginBottom:"16px"},children:c.content.description||"No description available."}),(0,o.jsx)(h.A,{variant:"body1",style:{marginBottom:"16px"},children:c.content.text||"No text available."}),(0,o.jsx)(k,{projectId:"".concat(l.Project,"-poem-").concat(c.content.poemaTitle||c.content.poemTitle)})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.A,{variant:"h5",gutterBottom:!0,children:c.content.title}),(0,o.jsx)(h.A,{variant:"body2",style:{marginBottom:"16px"},children:c.content.summary||"No summary available."}),c.content.link&&(0,o.jsx)("a",{href:c.content.link,target:"_blank",rel:"noopener noreferrer",children:"View Outcome"}),(0,o.jsx)(k,{projectId:"".concat(l.Project,"-outcome-").concat(c.content.title)})]}):(0,o.jsx)(h.A,{children:"Select an artwork, poem, or outcome to view details."})})]})]})})]}):null}var C=n(6756),P=n(8998),b=n(9579),w=n(894),S=n(2241),T=n(4918),E=n(4754),N=n(9681),I=n(6017),D=n(2091),F=n(562),O=n(391),U=n(1118),B=n(1837),M=n(5933),R=n(7097),W=n(4286),H=n(556);n(5106);var _=n(4244),Y=n(6667),Z=n(350);function z(e){let{filteredProjects:t,onSelectCategory:n,selectedCategory:l,markerRefs:i,isDarkMode:c,toggleDarkMode:s}=e,a=(0,C.ko)(),[d,u]=(0,r.useState)(!1),x=()=>u(!d),[m,j]=(0,r.useState)(!0),g=()=>j(!m),f=()=>{a.setZoom(9)},A=(e,t)=>{let n=parseFloat(e.Latitude),o=parseFloat(e.Longitude);console.log("Navigating to:",n,o);let r="".concat(e.Project,"-").concat(t);isNaN(n)||isNaN(o)?console.error("Invalid coordinates:",n,o):(null==i?void 0:i.current[r])?(a.flyTo([n,o],13,{animate:!0}),i.current[r].openPopup()):console.warn('Marker for key "'.concat(r,'" not found.'))};return(0,o.jsxs)(P.A,{sx:{display:"flex"},children:[(0,o.jsxs)(b.Ay,{variant:"permanent",anchor:m?"left":"right",PaperProps:{sx:{width:{xs:56,sm:62,md:72},overflowX:"hidden",backgroundColor:c?"#333":"#fff",color:c?"#fff":"#000"}},children:[(0,o.jsx)(P.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"64px"},children:(0,o.jsx)(w.A,{onClick:x,children:(0,o.jsx)(U.A,{})})}),(0,o.jsx)(S.A,{}),(0,o.jsxs)(T.A,{children:[(0,o.jsx)(E.Ay,{disablePadding:!0,children:(0,o.jsx)(N.A,{title:"Favorites",placement:"right",children:(0,o.jsx)(I.A,{sx:{justifyContent:"center"},children:(0,o.jsx)(D.A,{sx:{minWidth:"auto"},children:(0,o.jsx)(M.A,{})})})})}),(0,o.jsx)(E.Ay,{disablePadding:!0,children:(0,o.jsx)(N.A,{title:"Starred Projects",placement:"right",children:(0,o.jsx)(I.A,{sx:{justifyContent:"center"},children:(0,o.jsx)(D.A,{sx:{minWidth:"auto"},children:(0,o.jsx)(R.A,{})})})})}),(0,o.jsx)(E.Ay,{disablePadding:!0,children:(0,o.jsx)(N.A,{title:"Toggle Dark Mode",placement:"right",children:(0,o.jsx)(I.A,{sx:{justifyContent:"center"},onClick:s,children:(0,o.jsx)(D.A,{sx:{minWidth:"auto"},children:c?(0,o.jsx)(Z.A,{sx:{color:"#FFD700"}}):(0,o.jsx)(Y.A,{sx:{color:"#FFD700"}})})})})}),(0,o.jsx)(E.Ay,{disablePadding:!0,children:(0,o.jsx)(N.A,{title:"Zoom Out",placement:"right",children:(0,o.jsx)(I.A,{sx:{justifyContent:"center"},onClick:f,children:(0,o.jsx)(D.A,{sx:{minWidth:"auto"},children:(0,o.jsx)(H.A,{})})})})}),(0,o.jsx)(E.Ay,{disablePadding:!0,children:(0,o.jsx)(N.A,{title:"Toggle Sidebar Position",placement:"right",children:(0,o.jsx)(I.A,{sx:{justifyContent:"center"},onClick:g,children:(0,o.jsx)(D.A,{sx:{minWidth:"auto"},children:(0,o.jsx)(_.A,{})})})})})]})]}),(0,o.jsxs)(b.Ay,{anchor:m?"left":"right",open:d,onClose:x,variant:"temporary",PaperProps:{sx:{width:{xs:"95vw",md:"35vw"},overflowY:"auto",backgroundColor:c?"#444":"#f9f9f9",color:c?"#fff":"#000"}},children:[(0,o.jsxs)(P.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:2},children:[(0,o.jsx)(h.A,{variant:"h6",children:"Projects"}),(0,o.jsx)(w.A,{onClick:x,children:(0,o.jsx)(B.A,{})})]}),(0,o.jsx)(S.A,{}),(0,o.jsxs)(P.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",alignItems:"center",gap:2,padding:2},children:[(0,o.jsx)(P.A,{sx:{gridColumn:"1 / span 1"},children:(0,o.jsx)(p,{onSelectCategory:n,selectedCategory:l})}),(0,o.jsxs)(P.A,{sx:{gridColumn:"2 / span 1",display:"flex",justifyContent:"flex-end",gap:2},children:[(0,o.jsx)(N.A,{title:"Toggle Dark Mode",placement:"top",children:(0,o.jsx)(w.A,{onClick:s,children:(0,o.jsx)(W.A,{})})}),(0,o.jsx)(N.A,{title:"Toggle Sidebar Position",placement:"top",children:(0,o.jsx)(w.A,{onClick:g,children:(0,o.jsx)(_.A,{})})}),(0,o.jsx)(N.A,{title:"Zoom Out",placement:"top",children:(0,o.jsx)(w.A,{onClick:f,children:(0,o.jsx)(H.A,{})})})]})]}),(0,o.jsx)(S.A,{}),(0,o.jsx)(T.A,{children:t.map((e,t)=>(0,o.jsx)(E.Ay,{disablePadding:!0,children:(0,o.jsxs)(I.A,{onClick:()=>A(e,t),children:[(0,o.jsx)(D.A,{children:(0,o.jsx)(F.A,{src:e["Profile Image Url"]||"",alt:e.Project||"Placeholder"})}),(0,o.jsx)(O.A,{primary:e.Project})]})},t))})]})]})}function q(){let[e,t]=(0,r.useState)(!1),{projects:n,filteredProjects:s,filterProjects:a}=function(){let[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("https://adamfehse.github.io/map-app/storymapdata.json"),n=await e.json();t(n),o(n)}catch(e){console.error("Error fetching project data:",e)}})()},[]),{projects:e,filteredProjects:n,filterProjects:t=>{e.length&&o("All"===t||""===t?e:e.filter(e=>e["Project Category"]===t))}}}(),d=(0,r.useRef)({}),[p,x]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1),[j,g]=(0,r.useState)(null),[f,A]=(0,r.useState)("All"),[y,k]=(0,r.useState)(null);(0,r.useEffect)(()=>{s.forEach((e,t)=>{let n="".concat(e.Project,"-").concat(t),o=d.current[n];if(o){let n=document.createElement("div");n.innerHTML='\n              <div class="popup-content">\n                <img \n                  src="'.concat(e.ImageUrl||"https://via.placeholder.com/150",'" \n                  alt="').concat(e.Project,'" \n                  class="popup-image" \n                />\n                <strong>').concat(e.Project,'</strong>\n                <p class="popup-description">').concat(e.DescriptionShort,'</p>\n                <button id="more-details-').concat(t,'" class="popup-button">\n                  More Details\n                </button>\n              </div>\n            ');let r=u.responsivePopup({hasTip:!0,autoPan:!0}).setContent(n);o.bindPopup(r),n.querySelector("#more-details-".concat(t)).addEventListener("click",()=>{C(e)})}})},[s]);let C=e=>{g(e),m(!0)};return(0,o.jsxs)(l.W,{center:[31.916004,-110.990274],zoom:9,style:{height:"100vh",width:"100%"},children:[(0,o.jsx)(i.e,{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:"\xa9 OpenStreetMap contributors"}),s.map((e,t)=>{let n=[parseFloat(e.Latitude),parseFloat(e.Longitude)],r="".concat(e.Project,"-").concat(t);return n[0]&&n[1]?(0,o.jsx)(c.p,{position:n,ref:e=>{e&&(d.current[r]=e)}},r):null}),(0,o.jsx)(z,{filteredProjects:s||[],onSelectCategory:e=>{A(e),a(e)},selectedCategory:f,markerRefs:d,isDarkMode:p,toggleDarkMode:()=>{x(e=>{let t=!e;return document.body.classList.toggle("dark-mode",t),t})}}),(0,o.jsx)(v,{open:e=>{g(e),k(null),m(!0)},onClose:()=>{m(!1),g(null),k(null)},project:j,isDarkMode:p,selectedArtwork:y,setSelectedArtwork:k})]})}L.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})},5106:()=>{},8280:()=>{},5494:()=>{},4999:()=>{},9235:()=>{},3353:()=>{}}]);