(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[638],{2427:()=>{},4638:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>$});var a=r(5155),o=r(2115),n=r(6756),s=r(833),l=r(5402),i=r(3710),c=r(8741);r(8413);var d=r(9579),h=r(5436),u=r(9561),p=r(894),g=r(2241),m=r(152),x=r(1441),b=r(4918),f=r(1983),v=r(6017),y=r(391),j=r(1837),w=r(8205),N=r(2678),k=r(507),S=r(5787),A=r(7508);function C(e){let{categories:t=[],onSelectCategory:r,selectedCategory:n}=e,[s,l]=(0,o.useState)(!1);return console.log("ProjectDropdown received categories:",t),console.log("ProjectDropdown selectedCategory:",n),(0,a.jsx)(h.A,{sx:{minWidth:120},children:(0,a.jsxs)(N.A,{fullWidth:!0,children:[(0,a.jsx)(k.A,{id:"category-select-label",children:"Category"}),(0,a.jsxs)(S.A,{labelId:"category-select-label",id:"category-select",open:s,onClose:()=>l(!1),onOpen:()=>l(!0),value:n||"",label:"Category",onChange:e=>{r(e.target.value)},children:[(0,a.jsx)(A.A,{value:"",children:"All Projects"}),t.map((e,t)=>(0,a.jsx)(A.A,{value:e.Value||e.value,children:e.Label||e.label||e.Value||e.value},e.Value||e.value||"category-".concat(t)))]})]})})}var P=r(9388);function L(e){let{filteredProjects:t,searchFilteredProjects:r,onSelectCategory:n,selectedCategory:s,markerRefs:l,categories:i=[],open:c,onClose:N,searchTerm:k,setSearchTerm:S,onProjectClick:A}=e,[L,T]=(0,o.useState)(!0),{isDarkMode:I,toggleDarkMode:D}=(0,P.D)();return(0,o.useEffect)(()=>{document.body.classList.toggle("dark-mode",I)},[I]),console.log("Filtered Projects:",t),console.log("Selected Category:",s),(0,a.jsx)("div",{style:{position:"relative",height:"100%"},children:(0,a.jsxs)(d.Ay,{anchor:L?"left":"right",open:c,onClose:N,variant:"temporary",PaperProps:{sx:{width:404,background:"linear-gradient(135deg, #1a1a1a 0%, #23293a 100%)",color:"#00ff88",borderRight:L?"4px solid #00ff88":"none",borderLeft:L?"none":"4px solid #00ff88",boxShadow:"0 0 20px #00ff88, 0 4px 12px #000",filter:"drop-shadow(0 0 10px #00ff88)",transition:"background 0.3s, color 0.3s, box-shadow 0.3s, border 0.3s"}},children:[(0,a.jsxs)(h.A,{sx:{display:"flex",alignItems:"center",p:1},children:[(0,a.jsx)(u.A,{variant:"h6",children:"Projects"}),(0,a.jsx)(p.A,{onClick:N,children:(0,a.jsx)(j.A,{})})]}),(0,a.jsx)(g.A,{}),(0,a.jsx)(h.A,{sx:{p:2},children:(0,a.jsx)(m.A,{fullWidth:!0,variant:"outlined",placeholder:"Search projects...",value:k,onChange:e=>{S(e.target.value)},InputProps:{startAdornment:(0,a.jsx)(x.A,{position:"start",children:(0,a.jsx)(w.A,{})})}})}),(0,a.jsx)(h.A,{sx:{p:2},children:(0,a.jsx)(C,{onSelectCategory:n,selectedCategory:s,categories:i})}),(0,a.jsx)(b.A,{children:null==r?void 0:r.map(e=>{let r=t.findIndex(t=>t.Name===e.Name&&t.Latitude===e.Latitude&&t.Longitude===e.Longitude),o="".concat(e.Name,"-").concat(r,"-").concat(e.Latitude,"-").concat(e.Longitude);return(0,a.jsx)(f.Ay,{disablePadding:!0,children:(0,a.jsx)(v.A,{onClick:()=>A(e,r),children:(0,a.jsx)(y.A,{primary:e.Name,secondary:e.DescriptionShort})})},o)})})]})})}r(2427);var T=r(8617),I=r(9928),D=r(3467),E=r(2423),R=r(5765),U=r(8058),z=r(767),M=r(3518),W=r(6967),F=r(9124),H=r(5683),O=r(9191),_=r(1556);function B(e){let{poems:t,selectedPoem:r,setSelectedPoem:o,isAnimating:n,startAnimation:s,resetAnimation:l}=e;return t&&0!==t.length?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-white font-semibold text-sm mb-3",children:"Select a Poem"}),(0,a.jsx)("div",{className:"grid gap-2",children:t.map((e,t)=>(0,a.jsxs)(F.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(t),className:"text-left p-3 rounded-lg transition-all duration-200 ".concat(r===t?"bg-blue-900/30 border border-blue-500/50 text-white":"bg-gray-800/50 hover:bg-gray-700/50 text-gray-300 hover:text-white"),children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:e.Title}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:e.Author}),e.location&&(0,a.jsx)("div",{className:"text-xs text-blue-400 mt-1",children:e.location})]},t))})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(F.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,disabled:n,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg text-sm transition-colors",children:[(0,a.jsx)(O.A,{className:"w-4 h-4"}),n?"Playing...":"Animate"]}),(0,a.jsxs)(F.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,className:"flex items-center gap-2 px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg text-sm transition-colors",children:[(0,a.jsx)(_.A,{className:"w-4 h-4"}),"Reset"]})]})]}):(0,a.jsxs)("div",{className:"text-gray-400 italic text-center py-8",children:[(0,a.jsx)(D.A,{className:"w-8 h-8 mx-auto mb-2 opacity-60"}),"No poems available for this project."]})}function Z(e){var t,r;let{poem:n,completedLines:s,currentLineIndex:l}=e;if(!n)return null;let i=(null===(r=n.Content)||void 0===r?void 0:null===(t=r.split("\n"))||void 0===t?void 0:t.filter(e=>e.trim()))||[],c=e=>{let{text:t,isActive:r,isComplete:n,delay:s=0}=e,[l,i]=o.useState("");return(0,o.useEffect)(()=>{if(!r){n?i(t):i("");return}let e=0,a=setInterval(()=>{i(t.slice(0,e+1)),++e>=t.length&&clearInterval(a)},50+30*Math.random());return()=>clearInterval(a)},[r,t,n]),(0,a.jsxs)(F.P.div,{initial:{opacity:0,y:10},animate:{opacity:r||n?1:.3,y:r||n?0:10},transition:{duration:.5,delay:s},className:"leading-relaxed ".concat(r?"text-blue-300":n?"text-gray-200":"text-gray-500"),children:[l,r&&l.length<t.length&&(0,a.jsx)(F.P.span,{animate:{opacity:[1,0]},transition:{duration:.8,repeat:1/0,repeatType:"reverse"},className:"text-blue-400",children:"|"})]})};return(0,a.jsx)(H.N,{mode:"wait",children:(0,a.jsxs)(F.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[(0,a.jsx)(F.P.h2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"text-xl font-bold text-white mb-1",children:null==n?void 0:n.Title}),(null==n?void 0:n.Author)&&(0,a.jsxs)(F.P.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-gray-400 text-sm",children:["by ",n.Author]}),(null==n?void 0:n.location)&&(0,a.jsxs)(F.P.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},className:"text-blue-400 text-xs mt-1",children:["\uD83D\uDCCD ",n.location]})]}),(0,a.jsx)(F.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"bg-gray-900/50 rounded-lg p-6 border border-gray-700/50",children:(0,a.jsx)("div",{className:"space-y-3 text-base font-mono",children:i.map((e,t)=>(0,a.jsx)(c,{text:e,isActive:l===t,isComplete:s.includes(t),delay:.1*t},"".concat(n.Title,"-").concat(t)))})})]},n.Title)})}function Y(e){var t,r,n,s,l,i,c,d;let{project:h,onClose:u}=e,[p,g]=(0,o.useState)(0),[m,x]=(0,o.useState)([]),[b,f]=(0,o.useState)(0),[v,y]=(0,o.useState)(0),[j,w]=(0,o.useState)(!1),[N,k]=(0,o.useState)([]),[S,A]=(0,o.useState)(-1),C=()=>{var e,t;if(!h.Poems||!h.Poems[v])return;let r=(null===(t=h.Poems[v].Content)||void 0===t?void 0:null===(e=t.split("\n"))||void 0===e?void 0:e.filter(e=>e.trim()))||[];w(!0),k([]),A(-1),r.forEach((e,t)=>{setTimeout(()=>{A(t),setTimeout(()=>{k(e=>[...e,t]),t===r.length-1&&(w(!1),A(-1))},2e3+50*e.length)},3e3*t)})},P=()=>{w(!1),k([]),A(-1)};if((0,o.useEffect)(()=>{if(!h)return;let e=[];h.ImageUrl&&e.push({src:h.ImageUrl,title:h.Name,type:"project"}),h.Artworks&&h.Artworks.length>0&&h.Artworks.forEach(t=>{t.ImageUrl&&e.push({src:t.ImageUrl,title:t.Title,type:"artwork",description:t.Description})}),x(e)},[h]),!h)return null;let L=[{label:"Overview",icon:T.A,content:"overview"},...h.HasArtwork&&(null===(t=h.Artworks)||void 0===t?void 0:t.length)>0?[{label:"Artworks",icon:I.A,content:"artworks",count:h.Artworks.length}]:[],...h.HasPoems&&(null===(r=h.Poems)||void 0===r?void 0:r.length)>0?[{label:"Poems",icon:D.A,content:"poems",count:h.Poems.length}]:[],...(null===(n=h.Activities)||void 0===n?void 0:n.length)>0?[{label:"Activities",icon:E.A,content:"activities",count:h.Activities.length}]:[],...(null===(s=h.relatedUrls)||void 0===s?void 0:s.length)>0?[{label:"Links",icon:R.A,content:"links",count:h.relatedUrls.length}]:[]],F=()=>(0,a.jsxs)("div",{className:"space-y-6",children:[h.ImageUrl&&(0,a.jsx)("div",{className:"mb-4 flex justify-center",children:(0,a.jsx)("img",{src:h.ImageUrl,alt:h.Name,className:"rounded-lg shadow-lg max-w-full max-h-56 object-contain border border-gray-800 bg-black",style:{width:"100%",maxWidth:320}})}),(h.DescriptionLong||h.DescriptionShort)&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"Description"}),(0,a.jsx)("p",{className:"text-gray-200 text-lg leading-relaxed",children:h.DescriptionLong||h.DescriptionShort})]}),h.Background&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"Background"}),(0,a.jsx)("p",{className:"text-gray-200 text-lg leading-relaxed",children:h.Background})]})]}),H=()=>{var e;return(0,a.jsx)("div",{className:"space-y-3",children:null===(e=h.Artworks)||void 0===e?void 0:e.map((e,t)=>(0,a.jsxs)("div",{className:"group flex items-start gap-3 p-2 rounded-lg hover:bg-gray-800 cursor-pointer transition-colors",onClick:()=>f(t+(h.ImageUrl?1:0)),children:[e.ImageUrl&&(0,a.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,a.jsx)("img",{src:e.ImageUrl,alt:e.Title,className:"w-12 h-12 object-cover rounded"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 rounded transition-colors flex items-center justify-center",children:(0,a.jsx)(U.A,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h4",{className:"text-white text-base font-medium mb-1 break-words",children:e.Title}),(0,a.jsx)("p",{className:"text-gray-300 text-sm leading-relaxed break-words whitespace-pre-line",children:e.DescriptionLong||e.Description})]})]},t))})},O=()=>(0,a.jsx)(B,{poems:h.Poems||[],selectedPoem:v,setSelectedPoem:e=>{y(e),P()},isAnimating:j,startAnimation:C,resetAnimation:P}),_=()=>{var e;return(0,a.jsx)("div",{className:"space-y-3",children:null===(e=h.Activities)||void 0===e?void 0:e.map((e,t)=>(0,a.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-white font-medium text-sm mb-1",children:e.Title}),(0,a.jsx)("p",{className:"text-gray-300 text-sm mb-2",children:e.Description}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[e.Date&&(0,a.jsx)("span",{className:"text-gray-500 text-xs",children:e.Date}),e.Link&&(0,a.jsxs)("a",{href:e.Link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-xs flex items-center gap-1",children:["Learn More ",(0,a.jsx)(R.A,{className:"w-3 h-3"})]})]})]},t))})},Y=()=>{var e;return(0,a.jsx)("div",{className:"space-y-2",children:null===(e=h.relatedUrls)||void 0===e?void 0:e.map((e,t)=>(0,a.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-800 text-gray-300 hover:text-white transition-colors text-sm",children:[(0,a.jsx)(R.A,{className:"w-4 h-4"}),e.title]},t))})},V=m[b]||m[0];return(0,a.jsxs)("div",{className:"h-screen w-screen grid grid-cols-[420px_1fr] fixed top-0 left-0 z-[2000] bg-gray-900",children:[(0,a.jsxs)("div",{className:"bg-gray-900 border-r border-gray-800 flex flex-col min-w-0",style:{width:420},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[(0,a.jsx)("h1",{className:"text-white font-bold text-2xl truncate pr-2",children:h.Name}),(0,a.jsx)("button",{onClick:u,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:(0,a.jsx)(z.A,{className:"w-6 h-6 text-gray-400"})})]}),(0,a.jsx)("div",{className:"flex overflow-x-auto scrollbar-hide border-b border-gray-800",children:L.map((e,t)=>{let r=e.icon;return(0,a.jsxs)("button",{onClick:()=>g(t),className:"flex items-center gap-2 px-4 py-3 text-base font-semibold border-b-2 transition-colors whitespace-nowrap ".concat(p===t?"text-blue-400 border-blue-400 bg-gray-800":"text-gray-300 border-transparent hover:text-blue-300"),children:[(0,a.jsx)(r,{className:"w-5 h-5"}),e.label,e.count&&(0,a.jsx)("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded-full",children:e.count})]},e.label)})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-6",style:{maxHeight:"calc(100vh - 112px)"},children:(null===(l=L[p])||void 0===l?void 0:l.content)==="poems"?O():(()=>{var e;switch(null===(e=L[p])||void 0===e?void 0:e.content){case"overview":return F();case"artworks":return H();case"poems":return O();case"activities":return _();case"links":return Y();default:return null}})()})]}),(0,a.jsx)("div",{className:"bg-black flex items-center justify-center relative",children:(null===(i=L[p])||void 0===i?void 0:i.content)==="overview"?h.ImageUrl?(0,a.jsx)("img",{src:h.ImageUrl,alt:h.Name,className:"max-h-[70vh] max-w-full object-contain rounded-lg shadow-lg border border-gray-800 bg-black",style:{width:"100%",maxWidth:600}}):(0,a.jsxs)("div",{className:"text-gray-500 text-center",children:[(0,a.jsx)(I.A,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{className:"text-sm",children:"No image available"})]}):(null===(c=L[p])||void 0===c?void 0:c.content)==="poems"?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",style:{minHeight:"60vh"},children:(0,a.jsx)("div",{className:"w-full max-w-2xl mx-auto p-8 rounded-2xl shadow-2xl border border-blue-900/30 bg-gradient-to-br from-[#181c24] via-[#1e2233] to-[#23293a] bg-opacity-90",children:(0,a.jsx)(Z,{poem:null===(d=h.Poems)||void 0===d?void 0:d[v],completedLines:N,currentLineIndex:S})})}):V?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:V.src,alt:V.title,className:"max-h-full max-w-full object-contain"}),(0,a.jsx)("div",{className:"absolute top-4 right-4 bg-black/50 backdrop-blur-sm rounded-lg px-2 py-1",children:(0,a.jsxs)("span",{className:"text-white text-xs",children:[b+1," / ",m.length]})}),m.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>f((b-1+m.length)%m.length),className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 backdrop-blur-sm hover:bg-black/70 p-2 rounded-lg transition-colors",children:(0,a.jsx)(M.A,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("button",{onClick:()=>f((b+1)%m.length),className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 backdrop-blur-sm hover:bg-black/70 p-2 rounded-lg transition-colors",children:(0,a.jsx)(W.A,{className:"w-5 h-5 text-white"})})]})]}):(0,a.jsxs)("div",{className:"text-gray-500 text-center",children:[(0,a.jsx)(I.A,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{className:"text-sm",children:"No image available"})]})})]})}var V=r(2127);function q(e){let{onMenuClick:t,areaInfo:r,searchHistory:n,onSearch:s,searchTerm:l,setSearchTerm:i,filteredProjects:c=[],onProjectSelect:d,areaProject:h,areaProjects:u=[],mapZoom:p=11}=e,[g,m]=(0,o.useState)(!1),x=(0,o.useRef)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"search-container",style:{position:"absolute",top:20,left:50,zIndex:1e3,width:"calc(100vw - ".concat(100,"px)"),boxSizing:"border-box",display:"flex",alignItems:"center",fontFamily:"Inter, Arial, sans-serif",gap:16},children:[(0,a.jsx)("div",{style:{width:360,minWidth:360,flexShrink:0},children:(0,a.jsxs)("div",{className:"searchbox",style:{width:"100%",background:"#181c24",borderRadius:14,boxShadow:"0 2px 12px rgba(0,0,0,0.13)",display:"flex",alignItems:"center",padding:"0 10px",minHeight:48,border:"1.5px solid #23293a",boxSizing:"border-box"},children:[(0,a.jsxs)("form",{className:"search-form",onSubmit:e=>{e.preventDefault(),s(l)},style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,a.jsx)("label",{htmlFor:"search-input",style:{display:"none"},children:"Search Google Maps"}),(0,a.jsx)("input",{id:"search-input",ref:x,type:"text",placeholder:"Search...",autoComplete:"off",value:l,onChange:e=>i(e.target.value),onFocus:()=>m(!0),onBlur:()=>setTimeout(()=>m(!1),200),style:{border:"none",outline:"none",fontSize:17,width:"100%",background:"transparent",color:"#fff",padding:"12px 0",fontWeight:500,letterSpacing:.2}})]}),(0,a.jsx)("button",{className:"search-btn","aria-label":"Search",onClick:()=>s(l),style:{background:"none",border:"none",color:"#00ff88",fontSize:24,width:44,height:44,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:10,marginLeft:4,marginRight:2,cursor:"pointer",transition:"background 0.18s"},onMouseEnter:e=>e.currentTarget.style.background="#23293a",onMouseLeave:e=>e.currentTarget.style.background="none",children:"\uD83D\uDD0D"}),(0,a.jsx)("button",{className:"directions-btn","aria-label":"Directions",style:{background:"none",border:"none",color:"#00ff88",fontSize:24,width:44,height:44,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:10,marginLeft:2,cursor:"pointer",transition:"background 0.18s"},onMouseEnter:e=>e.currentTarget.style.background="#23293a",onMouseLeave:e=>e.currentTarget.style.background="none",children:"➡️"})]})}),p>=12&&u.length>0&&(0,a.jsx)("div",{style:{flex:1,minWidth:0,height:52,display:"flex",alignItems:"center",background:"#181c24",borderRadius:14,border:"1.5px solid #23293a",boxShadow:"0 2px 12px rgba(0,0,0,0.13)",padding:"0 12px",overflow:"hidden"},children:(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",gap:10,overflowX:"auto",overflowY:"hidden",width:"100%",height:"100%",paddingTop:4,paddingBottom:4,scrollbarWidth:"thin",scrollbarColor:"#23293a #181c24"},onLoad:e=>{let t=document.createElement("style");t.textContent="\n                  .project-scroll::-webkit-scrollbar {\n                    height: 6px;\n                  }\n                  .project-scroll::-webkit-scrollbar-track {\n                    background: #181c24;\n                    border-radius: 3px;\n                  }\n                  .project-scroll::-webkit-scrollbar-thumb {\n                    background: #23293a;\n                    border-radius: 3px;\n                  }\n                  .project-scroll::-webkit-scrollbar-thumb:hover {\n                    background: #2a3040;\n                  }\n                ",document.head.appendChild(t),e.currentTarget.classList.add("project-scroll")},children:u.map((e,t)=>(0,a.jsxs)("button",{onClick:()=>d&&d(e),style:{display:"flex",flexDirection:"column",alignItems:"center",background:"#23293a",border:"1px solid #2a3040",borderRadius:8,padding:"8px 10px",minWidth:80,maxWidth:100,cursor:"pointer",color:"#fff",fontSize:12,fontWeight:500,transition:"all 0.18s ease",outline:"none",flexShrink:0,height:"fit-content"},onMouseEnter:e=>{e.currentTarget.style.background="#00ff88",e.currentTarget.style.color="#000",e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.background="#23293a",e.currentTarget.style.color="#fff",e.currentTarget.style.transform="translateY(0)"},children:[(0,a.jsx)("img",{src:e.ImageUrl||e.imageUrl||"https://placehold.co/32x32",alt:e.Name,style:{width:32,height:32,borderRadius:6,objectFit:"cover",marginBottom:4,border:"1px solid #181c24",flexShrink:0}}),(0,a.jsx)("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",lineHeight:1.2},children:e.Name})]},e.Name+t))})})]}),g&&(0,a.jsxs)("div",{className:"search-dropdown",style:{position:"absolute",top:80,left:50,width:360,boxSizing:"border-box",background:"#181c24",borderRadius:16,boxShadow:"0 8px 32px rgba(0,0,0,0.22)",padding:12,zIndex:1001,border:"1.5px solid #23293a",fontFamily:"Inter, Arial, sans-serif",transition:"opacity 0.18s, transform 0.18s",opacity:g?1:0,transform:g?"translateY(0)":"translateY(10px)",pointerEvents:g?"auto":"none"},children:[l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("strong",{style:{color:"#00ff88",fontWeight:600,fontSize:13,letterSpacing:1},children:"Results"}),(0,a.jsxs)("ul",{style:{maxHeight:240,overflowY:"auto",margin:0,padding:0,listStyle:"none"},children:[0===c.length&&(0,a.jsx)("li",{style:{padding:8,color:"#888",fontSize:13},children:"No results"}),c.map((e,t)=>(0,a.jsxs)("li",{style:{cursor:"pointer",padding:"7px 8px",borderRadius:8,display:"flex",alignItems:"center",gap:10,transition:"background 0.18s",marginBottom:2},onMouseDown:()=>{d&&d(e),setTimeout(()=>m(!1),100)},onMouseEnter:e=>e.currentTarget.style.background="#23293a",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[(0,a.jsx)("img",{src:e.ImageUrl||e.imageUrl||"https://placehold.co/32x32",alt:e.Name,style:{width:32,height:32,borderRadius:7,objectFit:"cover",flexShrink:0,border:"1px solid #23293a",background:"#23293a"}}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0},children:[(0,a.jsx)("span",{style:{fontWeight:500,color:"#fff",fontSize:15,lineHeight:1.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.Name}),(0,a.jsx)("span",{style:{fontSize:12,color:"#b0b0b0",lineHeight:1.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:1},children:e.DescriptionShort})]})]},t))]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{style:{color:"#00ff88",fontWeight:600,fontSize:13,letterSpacing:1},children:"Recent Searches"}),(0,a.jsx)("ul",{style:{fontSize:13},children:n.map((e,t)=>(0,a.jsx)("li",{children:e},t))})]}),(0,a.jsxs)("div",{style:{marginTop:12,borderTop:"1px solid #23293a",paddingTop:8},children:[(0,a.jsx)("strong",{style:{color:"#00ff88",fontWeight:600,fontSize:13,letterSpacing:1},children:"This Area"}),h?(0,a.jsxs)("div",{style:{marginTop:6,background:"#23293a",borderRadius:10,padding:"10px 12px",color:"#fff",cursor:"pointer",fontSize:15,fontWeight:500,boxShadow:"0 2px 8px rgba(0,0,0,0.10)",transition:"background 0.18s",display:"flex",alignItems:"center",gap:10},onMouseDown:()=>d&&d(h),onMouseEnter:e=>e.currentTarget.style.background="#00ff88",onMouseLeave:e=>e.currentTarget.style.background="#23293a",children:[(0,a.jsx)("img",{src:h.ImageUrl||h.imageUrl||"https://placehold.co/32x32",alt:h.Name,style:{width:32,height:32,borderRadius:7,objectFit:"cover",flexShrink:0,border:"1px solid #23293a",background:"#23293a"}}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0},children:[(0,a.jsx)("span",{style:{fontWeight:500,color:"#fff",fontSize:15,lineHeight:1.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:h.Name}),h.DescriptionShort&&(0,a.jsx)("div",{style:{fontSize:13,color:"#b0b0b0",fontWeight:400,marginTop:2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:h.DescriptionShort})]})]}):(0,a.jsx)("div",{style:{color:"#b0b0b0",fontSize:13,marginTop:6},children:r})]})]}),(0,a.jsx)("div",{style:{marginTop:12,borderTop:"1px solid #23293a",paddingTop:8},children:(0,a.jsx)("button",{onClick:t,style:{marginTop:8,width:"100%",background:"#23293a",color:"#00ff88",border:"none",borderRadius:7,padding:"10px 0",fontWeight:600,fontSize:15,letterSpacing:1,cursor:"pointer",transition:"background 0.18s"},onMouseEnter:e=>e.currentTarget.style.background="#00ff88",onMouseLeave:e=>e.currentTarget.style.background="#23293a",children:"▼ Open Sidebar"})})]})]})}r(9826);let G=[32.2217,-110.9265],X=(0,c.divIcon)({className:"custom-div-icon",html:'<div style="background-color: #e74c3c; width: 12px; height: 12px; border-radius: 50%; border: 2px solid white;"></div>',iconSize:[12,12],iconAnchor:[6,6],popupAnchor:[0,-5]}),J=(0,c.divIcon)({className:"custom-div-icon",html:'<div style="background-color:rgb(0, 255, 247); width: 16px; height: 16px; border-radius: 50%; border: 3px solid blue; box-shadow: 0 0 10px rgba(231, 76, 60, 0.5);"></div>',iconSize:[16,16],iconAnchor:[8,8],popupAnchor:[0,-5]});function K(e){let{open:t,onClose:r,searchTerm:o,setSearchTerm:s,filteredProjects:l,searchFilteredProjects:i,onSelectCategory:c,selectedCategory:d,markerRefs:h,categories:u}=e,p=(0,n.ko)();return(0,a.jsx)(L,{open:t,onClose:r,searchTerm:o,setSearchTerm:s,filteredProjects:l,searchFilteredProjects:i,onSelectCategory:c,selectedCategory:d,markerRefs:h,categories:u,onProjectClick:(e,t)=>{let r="".concat(e.Name,"-").concat(t),a=parseFloat(e.Latitude),o=parseFloat(e.Longitude);isNaN(a)||isNaN(o)?console.error("Invalid coordinates:",a,o):(null==h?void 0:h.current[r])?(p.flyTo([a,o],13,{animate:!0}),h.current[r].openPopup()):console.warn('Marker for key "'.concat(r,'" not found.'))}})}function Q(e){let{filteredProjects:t,setAreaInfo:r,setAreaProject:a,setAreaProjects:s,setMapZoom:l}=e,i=(0,n.Po)({moveend:c,zoomend:c});function c(){let e=i.getZoom();if(e<12){r("Zoom in to see projects in this area"),a(null),s([]),l(e);return}let o=i.getBounds(),n=t.filter(e=>o.contains([e.Latitude,e.Longitude]));if(0===n.length)r("No projects in this area"),a(null),s([]),l(11);else{let t=n[0];r("".concat(t.Name).concat(t.DescriptionShort?": "+t.DescriptionShort:"")),a(t),s(n),l(e)}}return(0,o.useEffect)(()=>{c()},[t]),null}function $(){let{projects:e,filteredProjects:t,filterProjects:r,categories:n}=function(){let[e,t]=(0,o.useState)([]),[r,a]=(0,o.useState)(""),[n,s]=(0,o.useState)([]),[l,i]=(0,o.useState)(null);(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("https://raw.githubusercontent.com/AdamFehse/map-app/refs/heads/gh-pages/storymapdata_db_ready_v2.json");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let r=await e.json();t(r);let a=[...new Set(r.map(e=>e.ProjectCategory).filter(Boolean))];console.log("Found categories in data:",a);let o={ArtExhibition:"Art Exhibition",Research:"Research",CommunityEngagement:"Community Engagement",Performance:"Performance",Workshop:"Workshop",Conference:"Conference",Publication:"Publication",Other:"Other"},n=a.map(e=>({Value:e,Label:o[e]||e}));console.log("Processed categories:",n),s(n)}catch(e){console.error("Error fetching data:",e),i(e.message)}})()},[]);let c=(0,o.useMemo)(()=>r?e.filter(e=>e.ProjectCategory===r):e,[e,r]),d=(0,o.useCallback)(e=>{a(e)},[]),h=(0,o.useCallback)(()=>e.filter(e=>e.Artworks&&e.Artworks.length>0),[e]),u=(0,o.useCallback)(()=>e.filter(e=>e.Poems&&e.Poems.length>0),[e]),p=(0,o.useCallback)(()=>{let t=new Set;return e.forEach(e=>{e.Activities&&e.Activities.forEach(e=>{t.add(e)})}),Array.from(t)},[e]);return{projects:e,filteredProjects:c,categories:n,error:l,filterProjects:d,getProjectsWithArtworks:h,getProjectsWithPoems:u,getUniqueActivities:p}}(),[c,d]=(0,o.useState)(""),[h,u]=(0,o.useState)(null),[p,g]=(0,o.useState)(!1),m=(0,o.useRef)({});(0,o.useRef)(null);let[x,b]=(0,o.useState)(null),{isDarkMode:f}=(0,P.D)(),[v,y]=(0,o.useState)(!1),[j,w]=(0,o.useState)(""),[N,k]=(0,o.useState)([]),[S,A]=(0,o.useState)(""),[C,L]=(0,o.useState)(null),[T,I]=(0,o.useState)([]),[D,E]=(0,o.useState)(11),R=t.filter(e=>{var t,r,a;if(!j)return!0;let o=j.toLowerCase();return(null===(t=e.Name)||void 0===t?void 0:t.toLowerCase().includes(o))||(null===(r=e.DescriptionShort)||void 0===r?void 0:r.toLowerCase().includes(o))||(null===(a=e.Description)||void 0===a?void 0:a.toLowerCase().includes(o))});(0,o.useRef)(window.location.hash);let U=(0,o.useCallback)(e=>{u(e),g(!0),window.location.hash="project=".concat(encodeURIComponent(e.Name),"&lat=").concat(e.Latitude,"&lng=").concat(e.Longitude)},[]),z=(0,o.useCallback)(()=>{g(!1),u(null);let e=new URLSearchParams(window.location.hash.slice(1));e.has("project")&&(e.delete("project"),e.delete("lat"),e.delete("lng"),window.location.hash=e.toString())},[]);(0,o.useCallback)(e=>{let t=new URLSearchParams(window.location.hash.slice(1));e?t.set("category",encodeURIComponent(e)):t.delete("category");let r=t.toString();window.location.hash.slice(1)!==r&&(window.location.hash=r)},[]);let M=(0,o.useCallback)((e,t,r)=>{Object.values(m.current).forEach(e=>{e&&e.setIcon(X)}),e.setIcon(J),b(e),new URLSearchParams(window.location.hash.slice(1)).get("selected")!==t.Name&&(window.location.hash="selected=".concat(encodeURIComponent(t.Name)));let a=e._map.getZoom();e._map.flyTo([t.Latitude,t.Longitude],a,{animate:!0})},[m]);return(0,o.useEffect)(()=>{let e=()=>{d(e=>{let t=new URLSearchParams(window.location.hash.slice(1)).get("category")||"";return t!==e?t:e})};return e(),window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[]),(0,o.useEffect)(()=>{r(c)},[c,r]),(0,o.useEffect)(()=>{if(!t)return;let e=()=>{let e=new URLSearchParams(window.location.hash.slice(1)),r=e.get("project"),a=e.get("selected");if(r){let e=decodeURIComponent(r),a=t.find(t=>t.Name===e);a&&(!h||h.Name!==a.Name)&&(u(a),g(!0))}else p&&(g(!1),u(null));if(a){let e=decodeURIComponent(a),r=t.find(t=>t.Name===e);if(r){let e=t.indexOf(r),a="".concat(r.Name,"-").concat(e),o=m.current[a];o&&x!==o&&(Object.values(m.current).forEach(e=>{e&&e.setIcon(X)}),o.setIcon(J),b(o))}}else x&&(x.setIcon(X),b(null))};return e(),window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[t,p,h,x,m]),(0,o.useEffect)(()=>{t&&t.forEach((e,t)=>{let r="".concat(e.Name,"-").concat(t),a=m.current[r];if(a){let r=document.createElement("div");r.className="responsive-popup-content",r.innerHTML='\n            <img \n              src="'.concat(e.ImageUrl||"https://via.placeholder.com/150",'" \n              alt="').concat(e.Name,'" \n              class="popup-image" \n            />\n            <strong class="popup-title">').concat(e.Name,'</strong>\n            <p class="popup-description">').concat(e.DescriptionShort||e.Description||"",'</p>\n            <button id="more-details-').concat(t,'" class="popup-button">\n              More Details\n            </button>\n        ');let o=V.L({hasTip:!1,autoPan:!0,className:f?"dark-mode-popup":"light-mode-popup"}).setContent(r);a.bindPopup(o),a.on("click",()=>{M(a,e,t)}),a.on("popupopen",()=>{M(a,e,t)}),a.on("popupclose",()=>{let e=new URLSearchParams(window.location.hash.slice(1));e.has("selected")&&(e.delete("selected"),window.location.hash=e.toString()),a.setIcon(X),b(null)});let n=r.querySelector("#more-details-".concat(t));n&&n.addEventListener("click",()=>{U(e)})}})},[t,f,U,M]),(0,a.jsxs)("div",{style:{position:"relative",height:"100vh",width:"100%"},children:[(0,a.jsx)(q,{searchTerm:j,setSearchTerm:w,onMenuClick:()=>y(!0),areaInfo:S,areaProject:C,areaProjects:T,mapZoom:D,searchHistory:N,onSearch:e=>{w(e),e&&!N.includes(e)&&k([e,...N.slice(0,9)])},filteredProjects:R,onProjectSelect:e=>{let r=t.findIndex(t=>t.Name===e.Name&&t.Latitude===e.Latitude&&t.Longitude===e.Longitude),a="".concat(e.Name,"-").concat(r);!isNaN(e.Latitude)&&!isNaN(e.Longitude)&&(null==m?void 0:m.current[a])&&(m.current[a]._map.flyTo([e.Latitude,e.Longitude],13,{animate:!0}),m.current[a].openPopup()),y(!1)}}),(0,a.jsxs)(s.W,{center:G,zoom:11,style:{height:"100vh",width:"100%"},children:[(0,a.jsx)(Q,{filteredProjects:t,setAreaInfo:A,setAreaProject:L,setAreaProjects:I,setMapZoom:E}),(0,a.jsx)(l.e,{url:f?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors \xa9 <a href="https://carto.com/attributions">CARTO</a>',minZoom:0,maxZoom:20}),null==t?void 0:t.map((e,t)=>{let r="".concat(e.Name,"-").concat(t);return(0,a.jsx)(i.p,{position:[e.Latitude,e.Longitude],icon:X,ref:e=>{e&&(m.current[r]=e)}},r)}),v&&(0,a.jsx)(K,{open:v,onClose:()=>y(!1),searchTerm:j,setSearchTerm:w,filteredProjects:t,searchFilteredProjects:R,onSelectCategory:d,selectedCategory:c,markerRefs:m,categories:n})]}),(0,a.jsx)("div",{className:"map-color-overlay",style:{position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",width:"100%",background:"rgba(192, 128, 248, 0.1)",pointerEvents:"none",zIndex:400}}),h&&(0,a.jsx)(Y,{project:h,onClose:z})]})}},9388:(e,t,r)=>{"use strict";r.d(t,{D:()=>l,DarkModeProvider:()=>s});var a=r(5155),o=r(2115);let n=(0,o.createContext)();function s(e){let{children:t}=e,[r,s]=(0,o.useState)(!0);return(0,a.jsx)(n.Provider,{value:{isDarkMode:r,toggleDarkMode:()=>s(e=>!e)},children:t})}function l(){return(0,o.useContext)(n)}}}]);