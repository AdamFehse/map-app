(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[591],{8591:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>R});var r=o(5155),n=o(2115),l=o(833),i=o(5402),a=o(3710),c=o(9579),s=o(8998),d=o(894),p=o(2282),u=o(1348),m=o(9574),h=o(4918),x=o(4754),j=o(6017),g=o(8546),f=o(562),y=o(6327),A=o(6756),v=o(5135),b=o(5480);function k(e){let{onSelectCategory:t}=e,[o,l]=(0,n.useState)(null),i=!!o,a=e=>{l(null),null!==e&&t(e)};return(0,r.jsxs)("div",{children:[(0,r.jsx)(p.A,{variant:"outlined",onClick:e=>{l(e.currentTarget)},"aria-controls":i?"category-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,children:"Select Category"}),(0,r.jsxs)(v.A,{id:"category-menu",anchorEl:o,open:i,onClose:()=>a(null),children:[(0,r.jsx)(b.A,{onClick:()=>a(""),children:"All Projects"}),(0,r.jsx)(b.A,{onClick:()=>a("Art-Based Projects"),children:"Art-Based Projects"}),(0,r.jsx)(b.A,{onClick:()=>a("Research Projects"),children:"Research Projects"}),(0,r.jsx)(b.A,{onClick:()=>a("Education and Community Outreach"),children:"Education and Community Outreach"})]})]})}function C(e){let{open:t,onClose:o,filteredProjects:n,onSelectCategory:l,selectedCategory:i,markerRefs:a,isDarkMode:v,toggleDarkMode:b}=e,C=(0,A.ko)(),P=(e,t,o)=>{C&&a.current[o]&&(C.flyTo([e,t],13,{animate:!0}),a.current[o].openPopup())};return(0,r.jsx)(c.Ay,{anchor:"right",open:t,onClose:o,children:(0,r.jsxs)(s.A,{className:"sidebar",children:[(0,r.jsxs)(s.A,{className:"sidebar-header",children:[(0,r.jsx)("a",{href:"https://confluencenter.arizona.edu/",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center"},children:(0,r.jsx)("img",{src:"https://confluencenter.arizona.edu/sites/default/files/2025-01/cnflnctrLogo.png",alt:"Confluencenter Logo",style:{maxWidth:"100%",maxHeight:"50px"}})}),(0,r.jsx)(d.A,{onClick:o,children:(0,r.jsx)(y.A,{})})]}),(0,r.jsxs)(s.A,{className:"sidebar-controls",children:[(0,r.jsx)("div",{className:"categories-dropdown",children:(0,r.jsx)(k,{onSelectCategory:l})}),(0,r.jsx)("div",{className:"zoom-out-button",children:(0,r.jsx)(p.A,{variant:"outlined",onClick:()=>{C.setZoom(9)},children:"Zoom Out"})}),(0,r.jsxs)("div",{className:"dark-mode-toggle",children:[(0,r.jsx)(u.A,{children:"Dark Mode"}),(0,r.jsx)(m.A,{checked:v,onChange:b})]})]}),(0,r.jsxs)(s.A,{className:"sidebar-projects",children:[(0,r.jsxs)(u.A,{variant:"body1",gutterBottom:!0,children:["Filtered Projects: ",i||"All"]}),(0,r.jsx)(h.A,{children:n.map((e,t)=>{let o=parseFloat(e.Latitude),n=parseFloat(e.Longitude),l="".concat(e.Project,"-").concat(t);return(0,r.jsx)(x.Ay,{disablePadding:!0,style:{marginBottom:"0.5rem",borderRadius:"8px",border:"1px solid #ddd",backgroundColor:v?"#333":"#fff",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:(0,r.jsxs)(j.A,{onClick:()=>P(o,n,l),style:{display:"flex",alignItems:"center",padding:"10px",gap:"10px"},children:[(0,r.jsx)(g.A,{children:(0,r.jsx)(f.A,{src:e["Profile Image Url"]||"https://via.placeholder.com/40",alt:e.Project||"Placeholder",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}})}),(0,r.jsx)(u.A,{variant:"body2",style:{fontWeight:"bold",color:v?"#fff":"#000"},children:e.Project})]})},l)})})]})]})})}function P(e){let{onClick:t}=e;return(0,r.jsx)("button",{onClick:t,style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1e3,padding:"0.5rem 1rem",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Open Sidebar"})}o(3353),o(8280);var w=o(2127);o(1744),o(4999),o(9235);var S=o(3536);o(5685),o(5494);var N=o(9030),T=o(8222),E=o(5330),B=o(1644);function U(e){let{project:t,setSelectedContent:o,isDarkMode:n,expandedAccordion:l,setExpandedAccordion:i}=e;if(!t)return null;let a=[];if("TRUE"===t.HasArtwork){let e=[];for(let o=1;o<=8;o++)t["Artwork Title ".concat(o)]&&t["Artwork ImageUrl ".concat(o)]&&e.push({title:t["Artwork Title ".concat(o)],description:t["Artwork Description ".concat(o)],imageUrl:t["Artwork ImageUrl ".concat(o)],activity:t["Activity Title ".concat(o)]});a.push({type:"artwork",title:"Artwork Library",items:e})}if("TRUE"===t.HasPoems){let e=[];for(let o=1;o<=2;o++)(t["Poema ".concat(o)]||t["Poem ".concat(o)])&&e.push({poemaTitle:t["Poema ".concat(o)],poemTitle:t["Poem ".concat(o)],activityTitle:t["Activity Title Poem ".concat(o)],description:t["Poem Description ".concat(o)],text:t["Poema ".concat(o)]||t["Poem ".concat(o)]});a.push({type:"poem",title:"Poems",items:e})}if("TRUE"===t.HasOutcomes){let e=t["Project Outcome"]?[{title:t["Outcome Title"],summary:t["Outcome Summary"],link:t["Outcome Link"]}]:[];e.length>0&&a.push({type:"outcome",title:"Outcomes",items:e})}let c=e=>{i(t=>t===e?null:e)};return(0,r.jsx)(r.Fragment,{children:a.map((e,t)=>(0,r.jsxs)(N.A,{expanded:l===e.type,onChange:()=>c(e.type),style:{backgroundColor:n?"#333":"#fff",color:n?"#fff":"#000"},children:[(0,r.jsx)(T.A,{expandIcon:(0,r.jsx)(B.A,{style:{color:n?"#fff":"#000"}}),children:(0,r.jsx)(u.A,{variant:"h6",children:e.title})}),(0,r.jsx)(E.A,{style:{maxHeight:"60vh",overflowY:"auto"},children:e.items.map((t,l)=>(0,r.jsxs)("div",{style:{cursor:"pointer",marginBottom:"8px",backgroundColor:n?"#444":"#f9f9f9",padding:"8px",borderRadius:"4px",border:n?"1px solid #555":"1px solid #ddd"},onClick:()=>o({type:e.type,content:t}),children:[(0,r.jsx)(u.A,{variant:"subtitle1",style:{fontWeight:"bold",color:n?"#fff":"#000"},children:t.poemaTitle||t.poemTitle||t.title||"Untitled"}),"poem"===e.type&&(0,r.jsx)(u.A,{variant:"body2",style:{color:n?"#ccc":"#666"},children:t.activityTitle}),"outcome"===e.type&&(0,r.jsx)(u.A,{variant:"body2",style:{color:n?"#ccc":"#666"},children:t.summary})]},l))})]},t))})}function O(e){let{open:t,onClose:o,project:l,isDarkMode:i}=e,[a,c]=(0,n.useState)(null),[s,d]=(0,n.useState)(null);return((0,n.useEffect)(()=>{t&&l||(c(null),d(null))},[t,l]),l)?(0,r.jsx)(S.A,{open:t,onClose:o,"aria-labelledby":"project-modal-title","aria-describedby":"project-modal-description",style:{display:"flex",justifyContent:"center",alignItems:"center",overflowY:"auto"},children:(0,r.jsxs)("div",{className:"container-fluid project-details-overlay ".concat(i?"bg-dark text-white":"bg-light text-dark"),children:[(0,r.jsxs)("div",{className:"header",children:[(0,r.jsx)("h4",{children:l["Project Name"]}),(0,r.jsx)(p.A,{variant:"contained",color:"primary",onClick:o,children:"Close"})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-4 col-12 left-panel",children:(0,r.jsx)(U,{project:l,setSelectedContent:c,expandedAccordion:s,setExpandedAccordion:d,isDarkMode:i})}),(0,r.jsx)("div",{className:"col-md-8 col-12 right-panel",children:a?"artwork"===a.type?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{variant:"h5",gutterBottom:!0,children:a.content.title}),(0,r.jsxs)(u.A,{variant:"subtitle1",gutterBottom:!0,children:[(0,r.jsx)("strong",{children:"Activity:"})," ",a.content.activity||"N/A"]}),(0,r.jsx)(u.A,{variant:"body2",style:{marginBottom:"16px"},children:a.content.description||"No description available."}),(0,r.jsx)("div",{className:"image-container",children:(0,r.jsx)("img",{src:a.content.imageUrl,alt:a.content.title})})]}):"poem"===a.type?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{variant:"h5",gutterBottom:!0,children:a.content.poemaTitle||a.content.poemTitle||"Untitled"}),(0,r.jsxs)(u.A,{variant:"subtitle1",gutterBottom:!0,children:[(0,r.jsx)("strong",{children:"Activity:"})," ",a.content.activityTitle||"N/A"]}),(0,r.jsx)(u.A,{variant:"body2",style:{marginBottom:"16px"},children:a.content.description||"No description available."}),(0,r.jsx)(u.A,{variant:"body1",style:{lineHeight:"1.8",marginBottom:"16px"},children:a.content.text||"No text available."})]}):"outcome"===a.type?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{variant:"h5",gutterBottom:!0,children:a.content.title}),(0,r.jsx)(u.A,{variant:"body2",style:{marginBottom:"16px"},children:a.content.summary||"No summary available."}),a.content.link&&(0,r.jsx)("a",{href:a.content.link,target:"_blank",rel:"noopener noreferrer",children:"View Outcome"})]}):null:(0,r.jsx)(u.A,{children:"Select an item to view details."})})]})]})}):null}function R(){let[e,t]=(0,n.useState)(!1),{projects:o,filteredProjects:c,filterProjects:s}=function(){let[e,t]=(0,n.useState)([]),[o,r]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("https://adamfehse.github.io/map-app/storymapdata.json"),o=await e.json();t(o),r(o)}catch(e){console.error("Error fetching project data:",e)}})()},[]),{projects:e,filteredProjects:o,filterProjects:t=>{e.length&&r("All"===t||""===t?e:e.filter(e=>e["Project Category"]===t))}}}(),d=(0,n.useRef)({}),[p,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),[x,j]=(0,n.useState)(null),[g,f]=(0,n.useState)("All"),[y,A]=(0,n.useState)(null);(0,n.useEffect)(()=>{c.forEach((e,t)=>{let o="".concat(e.Project,"-").concat(t),r=d.current[o];if(r){let o=document.createElement("div");o.innerHTML='\n              <div class="popup-content">\n                <img \n                  src="'.concat(e.ImageUrl||"https://via.placeholder.com/150",'" \n                  alt="').concat(e.Project,'" \n                  class="popup-image" \n                />\n                <strong>').concat(e.Project,'</strong>\n                <p class="popup-description">').concat(e.DescriptionShort,'</p>\n                <button id="more-details-').concat(t,'" class="popup-button">\n                  More Details\n                </button>\n              </div>\n            ');let n=w.responsivePopup({hasTip:!0,autoPan:!0}).setContent(o);r.bindPopup(n),o.querySelector("#more-details-".concat(t)).addEventListener("click",()=>{v(e)})}})},[c]);let v=e=>{j(e),h(!0)};return(0,r.jsxs)(l.W,{center:[31.916004,-110.990274],zoom:9,style:{height:"100vh",width:"100%"},children:[(0,r.jsx)(i.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"\xa9 OpenStreetMap contributors"}),c.map((e,t)=>{let o=[parseFloat(e.Latitude),parseFloat(e.Longitude)],n="".concat(e.Project,"-").concat(t);return o[0]&&o[1]?(0,r.jsx)(a.p,{position:o,ref:e=>{e&&(d.current[n]=e)}},n):null}),(0,r.jsx)(P,{onClick:()=>t(!0)}),(0,r.jsx)(C,{open:e,onClose:()=>t(!1),projects:o,filteredProjects:c,onSelectCategory:e=>{f(e),s(e)},selectedCategory:g,markerRefs:d,isDarkMode:p,toggleDarkMode:()=>{u(e=>{let t=!e;return document.body.classList.toggle("dark-mode",t),t})}}),(0,r.jsx)(O,{open:e=>{j(e),A(null),h(!0)},onClose:()=>{h(!1),j(null),A(null)},project:x,isDarkMode:p,selectedArtwork:y,setSelectedArtwork:A})]})}L.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})},8280:()=>{},5494:()=>{},4999:()=>{},9235:()=>{},3353:()=>{}}]);