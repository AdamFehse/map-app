(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{3658:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var n=r(5155),o=r(2115),s=r(833),a=r(5402),c=r(3710),i=r(9579),l=r(8998),d=r(1348),u=r(894),p=r(2282),h=r(368),m=r(5899),j=r(6756),x=r(8310),g=r(5480);function f(e){let{onSelectCategory:t}=e,[r,s]=(0,o.useState)(null),a=!!r,c=e=>{s(null),null!==e&&t(e)};return(0,n.jsxs)("div",{children:[(0,n.jsx)(p.A,{variant:"outlined",onClick:e=>{s(e.currentTarget)},"aria-controls":a?"category-menu":void 0,"aria-haspopup":"true","aria-expanded":a?"true":void 0,children:"Select Category"}),(0,n.jsxs)(x.A,{id:"category-menu",anchorEl:r,open:a,onClose:()=>c(null),children:[(0,n.jsx)(g.A,{onClick:()=>c(""),children:"All Projects"}),(0,n.jsx)(g.A,{onClick:()=>c("Art-Based Projects"),children:"Art-Based Projects"}),(0,n.jsx)(g.A,{onClick:()=>c("Research Projects"),children:"Research Projects"}),(0,n.jsx)(g.A,{onClick:()=>c("Education and Community Outreach"),children:"Education and Community Outreach"})]})]})}function b(e){let{open:t,onClose:r,filteredProjects:o,onSelectCategory:s,markerRefs:a,isDarkMode:c,toggleDarkMode:x}=e,g=(0,j.ko)(),b=(e,t,r)=>{g&&a.current[r]&&(g.flyTo([e,t],13,{animate:!0}),a.current[r].openPopup())};return(0,n.jsx)(i.Ay,{anchor:"right",open:t,onClose:r,children:(0,n.jsxs)(l.A,{className:"sidebar",children:[(0,n.jsxs)(l.A,{className:"sidebar-header",children:[(0,n.jsx)(d.A,{variant:"h6",children:"Sidebar"}),(0,n.jsx)(u.A,{onClick:r,children:(0,n.jsx)(m.A,{})})]}),(0,n.jsxs)(l.A,{className:"sidebar-controls",children:[(0,n.jsx)("div",{className:"categories-dropdown",children:(0,n.jsx)(f,{onSelectCategory:s})}),(0,n.jsx)("div",{className:"zoom-out-button",children:(0,n.jsx)(p.A,{variant:"contained",onClick:()=>{g.setZoom(9)},children:"Zoom Out"})}),(0,n.jsxs)("div",{className:"dark-mode-toggle",children:[(0,n.jsx)(d.A,{children:"Dark Mode"}),(0,n.jsx)(h.A,{checked:c,onChange:x})]})]}),(0,n.jsxs)(l.A,{className:"sidebar-projects",children:[(0,n.jsx)(d.A,{variant:"body1",gutterBottom:!0,children:"Filtered Projects:"}),o.map((e,t)=>{let r=parseFloat(e.Latitude),o=parseFloat(e.Longitude),s="".concat(e["Project Name"],"-").concat(t);return(0,n.jsx)(d.A,{variant:"body2",style:{cursor:"pointer",marginBottom:"0.5rem"},onClick:()=>b(r,o,s),children:e["Project Name"]},s)})]})]})})}function k(e){let{onClick:t}=e;return(0,n.jsx)("button",{onClick:t,style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1e3,padding:"0.5rem 1rem",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Open Sidebar"})}r(3353),r(8280);var y=r(2127);r(1744),r(4999),r(9235),r(3509),r(2993);var v=r(3536);function C(e){let{open:t,onClose:r,project:o,isDarkMode:s}=e;return o?(0,n.jsx)(v.A,{open:t,onClose:r,"aria-labelledby":"project-modal-title","aria-describedby":"project-modal-description",style:{display:"flex",justifyContent:"center",alignItems:"center",overflowY:"auto"},children:(0,n.jsxs)("div",{className:"container-fluid project-details-overlay ".concat(s?"bg-dark text-white":"bg-light text-dark"),style:{maxWidth:"90%",maxHeight:"90vh",borderRadius:"8px",padding:"16px",overflowY:"auto"},children:[(0,n.jsx)("div",{className:"row mb-3",children:(0,n.jsxs)("div",{className:"col-12 d-flex justify-content-between align-items-center",children:[(0,n.jsx)("h4",{children:o["Project Name"]}),(0,n.jsx)(p.A,{variant:"contained",color:"secondary",onClick:r,children:"Close"})]})}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-md-4 col-12 mb-3",children:[(0,n.jsx)("h5",{children:"Details"}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Category:"})," ",o["Project Category"]]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Artist:"})," ",o.Artist||"Unknown"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Year:"})," ",o.Year||"N/A"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Location:"})," ",o.Location||"Unknown"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Medium:"})," ",o.Medium||"Various"]})]})]}),(0,n.jsxs)("div",{className:"col-md-8 col-12",children:[o.ImageUrl&&(0,n.jsx)("img",{src:o.ImageUrl,alt:o["Project Name"],className:"img-fluid rounded mb-3",style:{border:s?"1px solid #555":"1px solid #ddd"}}),(0,n.jsx)("h5",{children:"Description"}),(0,n.jsx)("p",{style:{lineHeight:"1.6"},children:o.DescriptionLong||"No detailed description available."})]})]})]})}):null}function A(){let[e,t]=(0,o.useState)(!1),{projects:r,filteredProjects:i,filterProjects:l}=function(){let[e,t]=(0,o.useState)([]),[r,n]=(0,o.useState)([]);return(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("https://adamfehse.github.io/storymapapp/storymapdata.json"),r=await e.json();t(r),n(r)}catch(e){console.error("Error fetching project data:",e)}})()},[]),{projects:e,filteredProjects:r,filterProjects:t=>{e.length&&n("All"===t||""===t?e:e.filter(e=>e["Project Category"]===t))}}}(),d=(0,o.useRef)({}),[u,p]=(0,o.useState)(!1),[h,m]=(0,o.useState)(!1),[j,x]=(0,o.useState)(null);(0,o.useEffect)(()=>{i.forEach((e,t)=>{let r="".concat(e["Project Name"],"-").concat(t),n=d.current[r];if(n){let r=document.createElement("div");r.innerHTML='\n              <div class="popup-content">\n                <img \n                  src="'.concat(e.ImageUrl||"https://via.placeholder.com/150",'" \n                  alt="').concat(e["Project Name"],'" \n                  class="popup-image" \n                />\n                <strong>').concat(e["Project Name"],'</strong>\n                <p class="popup-description">').concat(e.DescriptionShort,'</p>\n                <button id="more-details-').concat(t,'" class="popup-button">\n                  More Details\n                </button>\n              </div>\n            ');let o=y.responsivePopup({hasTip:!0,autoPan:!0}).setContent(r);n.bindPopup(o),r.querySelector("#more-details-".concat(t)).addEventListener("click",()=>{g(e)})}})},[i]);let g=e=>{x(e),m(!0)};return(0,n.jsxs)(s.W,{center:[31.916004,-110.990274],zoom:9,style:{height:"100vh",width:"100%"},children:[(0,n.jsx)(a.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"\xa9 OpenStreetMap contributors"}),i.map((e,t)=>{let r=[parseFloat(e.Latitude),parseFloat(e.Longitude)],o="".concat(e["Project Name"],"-").concat(t);return r[0]&&r[1]?(0,n.jsx)(c.p,{position:r,ref:e=>{e&&(d.current[o]=e)}},o):null}),(0,n.jsx)(k,{onClick:()=>t(!0)}),(0,n.jsx)(b,{open:e,onClose:()=>t(!1),projects:r,filteredProjects:i,onSelectCategory:l,markerRefs:d,isDarkMode:u,toggleDarkMode:()=>{p(e=>{let t=!e;return document.body.classList.toggle("dark-mode",t),t})}}),(0,n.jsx)(C,{open:e=>{x(e),m(!0)},onClose:()=>{m(!1),x(null)},project:j,isDarkMode:u}),"; ;"]})}r(5685),r(5494),L.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})},8280:()=>{},2993:()=>{},3509:()=>{},5494:()=>{},4999:()=>{},9235:()=>{},3353:()=>{}}]);