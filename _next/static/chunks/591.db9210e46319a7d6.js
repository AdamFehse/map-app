(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[591],{8591:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>N});var r=o(5155),n=o(2115),i=o(833),c=o(5402),a=o(3710),l=o(9579),s=o(8998),d=o(1348),m=o(894),u=o(2282),p=o(9574),h=o(6327),x=o(6756),j=o(8310),g=o(5480);function y(t){let{onSelectCategory:e}=t,[o,i]=(0,n.useState)(null),c=!!o,a=t=>{i(null),null!==t&&e(t)};return(0,r.jsxs)("div",{children:[(0,r.jsx)(u.A,{variant:"outlined",onClick:t=>{i(t.currentTarget)},"aria-controls":c?"category-menu":void 0,"aria-haspopup":"true","aria-expanded":c?"true":void 0,children:"Select Category"}),(0,r.jsxs)(j.A,{id:"category-menu",anchorEl:o,open:c,onClose:()=>a(null),children:[(0,r.jsx)(g.A,{onClick:()=>a(""),children:"All Projects"}),(0,r.jsx)(g.A,{onClick:()=>a("Art-Based Projects"),children:"Art-Based Projects"}),(0,r.jsx)(g.A,{onClick:()=>a("Research Projects"),children:"Research Projects"}),(0,r.jsx)(g.A,{onClick:()=>a("Education and Community Outreach"),children:"Education and Community Outreach"})]})]})}function v(t){let{open:e,onClose:o,filteredProjects:n,onSelectCategory:i,selectedCategory:c,markerRefs:a,isDarkMode:j,toggleDarkMode:g}=t,v=(0,x.ko)(),A=(t,e,o)=>{v&&a.current[o]&&(v.flyTo([t,e],13,{animate:!0}),a.current[o].openPopup())};return(0,r.jsx)(l.Ay,{anchor:"right",open:e,onClose:o,children:(0,r.jsxs)(s.A,{className:"sidebar",children:[(0,r.jsxs)(s.A,{className:"sidebar-header",children:[(0,r.jsx)(d.A,{variant:"h6",children:"Sidebar"}),(0,r.jsx)(m.A,{onClick:o,children:(0,r.jsx)(h.A,{})})]}),(0,r.jsxs)(s.A,{className:"sidebar-controls",children:[(0,r.jsx)("div",{className:"categories-dropdown",children:(0,r.jsx)(y,{onSelectCategory:i})}),(0,r.jsx)("div",{className:"zoom-out-button",children:(0,r.jsx)(u.A,{variant:"contained",onClick:()=>{v.setZoom(9)},children:"Zoom Out"})}),(0,r.jsxs)("div",{className:"dark-mode-toggle",children:[(0,r.jsx)(d.A,{children:"Dark Mode"}),(0,r.jsx)(p.A,{checked:j,onChange:g})]})]}),(0,r.jsxs)(s.A,{className:"sidebar-projects",children:[(0,r.jsxs)(d.A,{variant:"body1",gutterBottom:!0,children:["Filtered Projects: ",c||"All"]}),n.map((t,e)=>{let o=parseFloat(t.Latitude),n=parseFloat(t.Longitude),i="".concat(t.Project,"-").concat(e);return(0,r.jsxs)(s.A,{style:{display:"flex",alignItems:"center",cursor:"pointer",marginBottom:"0.5rem"},onClick:()=>A(o,n,i),children:[t.Project&&(0,r.jsx)("img",{src:t["Profile Image Url"]||"https://via.placeholder.com/40",alt:t.Project||"Placeholder",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",marginRight:"10px"}}),(0,r.jsx)(d.A,{variant:"body2",children:t.Project})]},i)})]})]})})}function A(t){let{onClick:e}=t;return(0,r.jsx)("button",{onClick:e,style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1e3,padding:"0.5rem 1rem",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Open Sidebar"})}o(3353),o(8280);var k=o(2127);o(1744),o(4999),o(9235);var f=o(3536);o(5685),o(5494);var b=o(9030),P=o(8222),w=o(5330),C=o(1644);function T(t){let{project:e,setSelectedContent:o,isDarkMode:n}=t;if(!e)return null;let i=[];if("TRUE"===e.HasArtwork){let t=[];for(let o=1;o<=9;o++)e["Artwork Title ".concat(o)]&&e["Artwork ImageUrl ".concat(o)]&&t.push({title:e["Artwork Title ".concat(o)],description:e["Artwork Description ".concat(o)],imageUrl:e["Artwork ImageUrl ".concat(o)],activity:e["Activity Title ".concat(o)]});i.push({type:"artwork",title:"Artwork Library",items:t})}if("TRUE"===e.HasPoems){let t=[];for(let o=1;o<=2;o++)(e["Activity Title Poem ".concat(o)]||e["Poema ".concat(o," title")]||e["Poem ".concat(o)])&&t.push({activityTitle:e["Activity Title Poem ".concat(o)],description:e["Poem Description ".concat(o)],poemaTitle:e["Poema ".concat(o," title")],poemTitle:e["Poem ".concat(o)],text:e["Poem ".concat(o)]});i.push({type:"poem",title:"Poems",items:t})}if("TRUE"===e.HasOutcomes){let t=e["Project Outcome"]?[{title:e["Outcome Title"],summary:e["Outcome Summary"],link:e["Outcome Link"]}]:[];t.length>0&&i.push({type:"outcome",title:"Outcomes",items:t})}return(0,r.jsx)(r.Fragment,{children:i.map((t,e)=>(0,r.jsxs)(b.A,{children:[(0,r.jsx)(P.A,{expandIcon:(0,r.jsx)(C.A,{}),children:(0,r.jsx)(d.A,{variant:"h6",children:t.title})}),(0,r.jsx)(w.A,{style:{maxHeight:"60vh",overflowY:"auto"},children:t.items.map((e,n)=>(0,r.jsxs)("div",{style:{cursor:"pointer",marginBottom:"8px"},onClick:()=>o({type:t.type,content:e}),children:[(0,r.jsx)(d.A,{variant:"subtitle1",children:e.title||"Untitled"}),"poem"===t.type&&(0,r.jsx)(d.A,{variant:"body2",children:e.activityTitle}),"outcome"===t.type&&(0,r.jsx)(d.A,{variant:"body2",children:e.summary})]},n))})]},e))})}function S(t){let{open:e,onClose:o,project:i,isDarkMode:c}=t,[a,l]=(0,n.useState)(null);if((0,n.useEffect)(()=>{e&&i||l(null)},[e,i]),!i)return null;let s=[],m=[];for(let t=1;t<=9;t++)i["Artwork Title ".concat(t)]&&i["Artwork ImageUrl ".concat(t)]&&m.push({title:i["Artwork Title ".concat(t)],description:i["Artwork Description ".concat(t)],imageUrl:i["Artwork ImageUrl ".concat(t)],activity:i["Activity Title ".concat(t)]});m.length>0&&s.push({type:"artwork",title:"Artwork Library",items:m});let p=[];for(let t=1;t<=2;t++)(i["Activity Title Poem ".concat(t)]||i["Poema ".concat(t," title")]||i["Poem ".concat(t)])&&p.push({activityTitle:i["Activity Title Poem ".concat(t)],description:i["Poem Description ".concat(t)],poemaTitle:i["Poema ".concat(t," title")],poemTitle:i["Poem ".concat(t)],text:i["Poem ".concat(t)]});p.length>0&&s.push({type:"poem",title:"Poems",items:p});let h=i["Project Outcome"]?[{title:i["Outcome Title"],summary:i["Outcome Summary"],link:i["Outcome Link"]}]:[];return h.length>0&&s.push({type:"outcome",title:"Outcomes",items:h}),(0,r.jsx)(f.A,{open:e,onClose:o,"aria-labelledby":"project-modal-title","aria-describedby":"project-modal-description",style:{display:"flex",justifyContent:"center",alignItems:"center",overflowY:"auto"},children:(0,r.jsxs)("div",{className:"container-fluid project-details-overlay ".concat(c?"bg-dark text-white":"bg-light text-dark"),style:{maxWidth:"90%",maxHeight:"90vh",borderRadius:"8px",padding:"16px",overflowY:"auto"},children:[(0,r.jsx)("div",{className:"row mb-3",children:(0,r.jsxs)("div",{className:"col-12 d-flex justify-content-between align-items-center",children:[(0,r.jsx)("h4",{children:i["Project Name"]}),(0,r.jsx)(u.A,{variant:"contained",color:"secondary",onClick:o,children:"Close"})]})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-4 col-12 mb-3",children:(0,r.jsx)(T,{project:i,setSelectedContent:l,isDarkMode:c})}),(0,r.jsx)("div",{className:"col-md-8 col-12",style:{maxHeight:"70vh",overflowY:"auto"},children:a?"artwork"===a.type?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{variant:"h5",gutterBottom:!0,children:a.content.title}),(0,r.jsxs)(d.A,{variant:"subtitle1",gutterBottom:!0,children:[(0,r.jsx)("strong",{children:"Activity:"})," ",a.content.activity||"N/A"]}),(0,r.jsx)(d.A,{variant:"body2",style:{lineHeight:"1.6",marginBottom:"16px"},children:a.content.description||"No description available."}),(0,r.jsx)("img",{src:a.content.imageUrl,alt:a.content.title,className:"img-fluid rounded",style:{border:c?"1px solid #555":"1px solid #ddd",maxWidth:"100%"}})]}):"poem"===a.type?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{variant:"h5",gutterBottom:!0,children:a.content.poemaTitle||a.content.poemTitle||"Untitled"}),(0,r.jsx)(d.A,{variant:"body2",style:{lineHeight:"1.6",marginBottom:"16px"},children:a.content.description||"No description available."}),(0,r.jsx)(d.A,{variant:"body1",style:{lineHeight:"1.8",marginBottom:"16px"},children:a.content.text||"No text available."})]}):"outcome"===a.type?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{variant:"h5",gutterBottom:!0,children:a.content.title}),(0,r.jsx)(d.A,{variant:"body2",style:{lineHeight:"1.6",marginBottom:"16px"},children:a.content.summary||"No summary available."}),a.content.link&&(0,r.jsx)("a",{href:a.content.link,target:"_blank",rel:"noopener noreferrer",style:{color:c?"#aad":"#00f"},children:"View Outcome"})]}):(0,r.jsx)(d.A,{variant:"body2",style:{lineHeight:"1.6",marginBottom:"16px"},children:"Select an artwork, poem, or outcome to view details."}):(0,r.jsx)(d.A,{variant:"body2",style:{lineHeight:"1.6",marginBottom:"16px"},children:"Select an artwork, poem, or outcome to view details."})})]})]})})}function N(){let[t,e]=(0,n.useState)(!1),{projects:o,filteredProjects:l,filterProjects:s}=function(){let[t,e]=(0,n.useState)([]),[o,r]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{try{let t=await fetch("/storymapdata.json"),o=await t.json();e(o),r(o)}catch(t){console.error("Error fetching project data:",t)}})()},[]),{projects:t,filteredProjects:o,filterProjects:e=>{t.length&&r("All"===e||""===e?t:t.filter(t=>t["Project Category"]===e))}}}(),d=(0,n.useRef)({}),[m,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[x,j]=(0,n.useState)(null),[g,y]=(0,n.useState)("All"),[f,b]=(0,n.useState)(null);(0,n.useEffect)(()=>{l.forEach((t,e)=>{let o="".concat(t.Project,"-").concat(e),r=d.current[o];if(r){let o=document.createElement("div");o.innerHTML='\n              <div class="popup-content">\n                <img \n                  src="'.concat(t.ImageUrl||"https://via.placeholder.com/150",'" \n                  alt="').concat(t.Project,'" \n                  class="popup-image" \n                />\n                <strong>').concat(t.Project,'</strong>\n                <p class="popup-description">').concat(t.DescriptionShort,'</p>\n                <button id="more-details-').concat(e,'" class="popup-button">\n                  More Details\n                </button>\n              </div>\n            ');let n=k.responsivePopup({hasTip:!0,autoPan:!0}).setContent(o);r.bindPopup(n),o.querySelector("#more-details-".concat(e)).addEventListener("click",()=>{P(t)})}})},[l]);let P=t=>{j(t),h(!0)};return(0,r.jsxs)(i.W,{center:[31.916004,-110.990274],zoom:9,style:{height:"100vh",width:"100%"},children:[(0,r.jsx)(c.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"\xa9 OpenStreetMap contributors"}),l.map((t,e)=>{let o=[parseFloat(t.Latitude),parseFloat(t.Longitude)],n="".concat(t.Project,"-").concat(e);return o[0]&&o[1]?(0,r.jsx)(a.p,{position:o,ref:t=>{t&&(d.current[n]=t)}},n):null}),(0,r.jsx)(A,{onClick:()=>e(!0)}),(0,r.jsx)(v,{open:t,onClose:()=>e(!1),projects:o,filteredProjects:l,onSelectCategory:t=>{y(t),s(t)},selectedCategory:g,markerRefs:d,isDarkMode:m,toggleDarkMode:()=>{u(t=>{let e=!t;return document.body.classList.toggle("dark-mode",e),e})}}),(0,r.jsx)(S,{open:t=>{j(t),b(null),h(!0)},onClose:()=>{h(!1),j(null),b(null)},project:x,isDarkMode:m,selectedArtwork:f,setSelectedArtwork:b})]})}L.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})},8280:()=>{},5494:()=>{},4999:()=>{},9235:()=>{},3353:()=>{}}]);