"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{6720:(e,t,r)=>{r.r(t),r.d(t,{default:()=>V});var i=r(5155),n=r(2115),o=r(833),s=r(5402),a=r(3710),l=r(8741);r(8413);var c=r(6756),d=r(9579),h=r(4918),x=r(1983),u=r(6331),p=r(6017),j=r(2091),m=r(8998),A=r(9561),g=r(894),f=r(2241),v=r(152),y=r(1441),b=r(391),k=r(1118),C=r(4286),w=r(4244),L=r(1837),S=r(8205),P=r(2678),N=r(507),D=r(2664),B=r(1888);function E(e){let{categories:t=[],onSelectCategory:r,selectedCategory:o}=e,[s,a]=(0,n.useState)(!1),l=e=>{a(!1),r(e)};return(0,i.jsx)(m.A,{sx:{minWidth:120},children:(0,i.jsxs)(P.A,{fullWidth:!0,children:[(0,i.jsx)(N.A,{id:"category-select-label",children:"Category"}),(0,i.jsxs)(D.A,{labelId:"category-select-label",id:"category-select",open:s,onClose:()=>a(!1),onOpen:()=>a(!0),value:o||"",label:"Category",children:[(0,i.jsx)(B.A,{onClick:()=>l(""),children:"All Projects"}),t.map(e=>(0,i.jsx)(B.A,{onClick:()=>l(e.value),children:e.label},e.value))]})]})})}function I(e){let{filteredProjects:t,onSelectCategory:r,selectedCategory:o,markerRefs:s,isDarkMode:a,toggleDarkMode:l,categories:P=[]}=e,[N,D]=(0,n.useState)(!1),[B,I]=(0,n.useState)(""),T=()=>D(!N),[O,W]=(0,n.useState)(!0),F=(0,c.ko)();console.log("Filtered Projects:",t),console.log("Selected Category:",o);let U=null==t?void 0:t.filter(e=>{var t,r,i;let n=B.toLowerCase();return(null===(t=e.Name)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(r=e.DescriptionShort)||void 0===r?void 0:r.toLowerCase().includes(n))||(null===(i=e.Description)||void 0===i?void 0:i.toLowerCase().includes(n))}),M=e=>{let r=parseFloat(e.Latitude),i=parseFloat(e.Longitude);console.log("Navigating to:",r,i);let n=t.findIndex(t=>t.Name===e.Name&&t.Latitude===e.Latitude&&t.Longitude===e.Longitude),o="".concat(e.Name,"-").concat(n);isNaN(r)||isNaN(i)?console.error("Invalid coordinates:",r,i):(null==s?void 0:s.current[o])?(F.flyTo([r,i],13,{animate:!0}),s.current[o].openPopup()):console.warn('Marker for key "'.concat(o,'" not found.'))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Ay,{variant:"permanent",anchor:O?"left":"right",PaperProps:{sx:{width:60,flexShrink:0,"& .MuiDrawer-paper":{width:60,boxSizing:"border-box",backgroundColor:a?"#1a1a1a":"#ffffff",color:a?"#ffffff":"#000000"}}},children:(0,i.jsxs)(h.A,{children:[(0,i.jsx)(x.Ay,{disablePadding:!0,children:(0,i.jsx)(u.A,{title:"Menu",placement:"right",children:(0,i.jsx)(p.A,{sx:{justifyContent:"center"},onClick:T,children:(0,i.jsx)(j.A,{sx:{minWidth:"auto"},children:(0,i.jsx)(k.A,{})})})})}),(0,i.jsx)(x.Ay,{disablePadding:!0,children:(0,i.jsx)(u.A,{title:"Toggle Dark Mode",placement:"right",children:(0,i.jsx)(p.A,{sx:{justifyContent:"center"},onClick:l,children:(0,i.jsx)(j.A,{sx:{minWidth:"auto"},children:(0,i.jsx)(C.A,{})})})})}),(0,i.jsx)(x.Ay,{disablePadding:!0,children:(0,i.jsx)(u.A,{title:"Toggle Sidebar Position",placement:"right",children:(0,i.jsx)(p.A,{sx:{justifyContent:"center"},onClick:()=>W(!O),children:(0,i.jsx)(j.A,{sx:{minWidth:"auto"},children:(0,i.jsx)(w.A,{})})})})})]})}),(0,i.jsxs)(d.Ay,{anchor:O?"left":"right",open:N,onClose:T,variant:"temporary",PaperProps:{sx:{width:300,backgroundColor:a?"#1a1a1a":"#ffffff",color:a?"#ffffff":"#000000"}},children:[(0,i.jsxs)(m.A,{sx:{display:"flex",alignItems:"center",p:1},children:[(0,i.jsx)(A.A,{variant:"h6",children:"Projects"}),(0,i.jsx)(g.A,{onClick:T,children:(0,i.jsx)(L.A,{})})]}),(0,i.jsx)(f.A,{}),(0,i.jsx)(m.A,{sx:{p:2},children:(0,i.jsx)(v.A,{fullWidth:!0,variant:"outlined",placeholder:"Search projects...",value:B,onChange:e=>{I(e.target.value)},InputProps:{startAdornment:(0,i.jsx)(y.A,{position:"start",children:(0,i.jsx)(S.A,{})})}})}),(0,i.jsx)(m.A,{sx:{p:2},children:(0,i.jsx)(E,{onSelectCategory:r,selectedCategory:o,categories:P})}),(0,i.jsx)(h.A,{children:null==U?void 0:U.map(e=>{let r=t.findIndex(t=>t.Name===e.Name&&t.Latitude===e.Latitude&&t.Longitude===e.Longitude),n="".concat(e.Name,"-").concat(r,"-").concat(e.Latitude,"-").concat(e.Longitude);return(0,i.jsx)(x.Ay,{disablePadding:!0,children:(0,i.jsx)(p.A,{onClick:()=>M(e),children:(0,i.jsx)(b.A,{primary:e.Name,secondary:e.DescriptionShort})})},n)})})]})]})}var T=r(8416),O=r(6417),W=r(7753),F=r(5417),U=r(8562),M=r(2282),_=r(6214);let H=e=>{let{open:t,onClose:r,project:n,isDarkMode:o}=e;return n?(0,i.jsxs)(T.A,{open:t,onClose:r,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{backgroundColor:o?"#333":"#fff",color:o?"#fff":"#000"}},children:[(0,i.jsxs)(O.A,{children:[n.Name,n.FacultyFellow&&(0,i.jsxs)(A.A,{variant:"subtitle1",color:"text.secondary",sx:{mt:1},children:["By ",n.FacultyFellow]})]}),(0,i.jsx)(W.A,{children:(0,i.jsxs)(F.Ay,{container:!0,spacing:3,children:[n.ImageUrl&&(0,i.jsx)(F.Ay,{item:!0,xs:12,children:(0,i.jsx)("img",{src:n.ImageUrl,alt:n.Name,style:{width:"100%",maxHeight:"300px",objectFit:"cover",borderRadius:"8px"}})}),n.Location&&(0,i.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,i.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Location"}),(0,i.jsxs)(A.A,{variant:"body1",paragraph:!0,children:["\uD83D\uDCCD ",n.Location]})]}),n.DescriptionLong||n.DescriptionShort?(0,i.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,i.jsxs)(A.A,{variant:"h6",gutterBottom:!0,children:["Description: ",n.ProjectName]}),(0,i.jsx)(A.A,{variant:"body1",paragraph:!0,children:n.DescriptionLong||n.DescriptionShort})]}):null,n.Background&&(0,i.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,i.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Background"}),(0,i.jsx)(A.A,{variant:"body1",paragraph:!0,children:n.Background})]}),n.Education&&n.Education.length>0&&(0,i.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,i.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Education"}),n.Education.map((e,t)=>(0,i.jsxs)(A.A,{variant:"body1",paragraph:!0,children:["â€¢ ",e]},t))]}),n.Affiliation&&(0,i.jsxs)(F.Ay,{item:!0,xs:12,md:6,children:[(0,i.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Affiliation"}),(0,i.jsx)(A.A,{variant:"body1",children:n.Affiliation})]}),n.College&&(0,i.jsxs)(F.Ay,{item:!0,xs:12,md:6,children:[(0,i.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"College"}),(0,i.jsx)(A.A,{variant:"body1",children:n.College})]}),n.Department&&(0,i.jsxs)(F.Ay,{item:!0,xs:12,md:6,children:[(0,i.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Department"}),(0,i.jsx)(A.A,{variant:"body1",children:n.Department})]}),n.Year&&(0,i.jsxs)(F.Ay,{item:!0,xs:12,md:6,children:[(0,i.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Year"}),(0,i.jsx)(A.A,{variant:"body1",children:n.Year})]}),n.Outcome&&n.Outcome.Type&&(0,i.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,i.jsx)(f.A,{sx:{my:2}}),(0,i.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Outcome"}),(0,i.jsxs)(U.A,{elevation:2,sx:{p:2,backgroundColor:o?"#444":"#f5f5f5"},children:[(0,i.jsx)(A.A,{variant:"subtitle1",children:n.Outcome.Title}),(0,i.jsx)(A.A,{variant:"body2",paragraph:!0,children:n.Outcome.Summary}),n.Outcome.Link&&(0,i.jsx)(M.A,{variant:"contained",color:"primary",href:n.Outcome.Link,target:"_blank",rel:"noopener noreferrer",children:"View Outcome"})]})]}),n.HasArtwork&&n.Artworks&&n.Artworks.length>0&&(0,i.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,i.jsx)(f.A,{sx:{my:2}}),(0,i.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Artworks"}),(0,i.jsx)(F.Ay,{container:!0,spacing:2,children:n.Artworks.map((e,t)=>(0,i.jsx)(F.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,i.jsxs)(U.A,{elevation:2,sx:{p:2,backgroundColor:o?"#444":"#f5f5f5"},children:[e.ImageUrl&&(0,i.jsx)("img",{src:e.ImageUrl,alt:e.Title,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"4px",marginBottom:"8px"}}),(0,i.jsx)(A.A,{variant:"subtitle1",children:e.Title}),(0,i.jsx)(A.A,{variant:"body2",children:e.Description})]})},t))})]}),n.HasPoems&&n.Poems&&n.Poems.length>0&&(0,i.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,i.jsx)(f.A,{sx:{my:2}}),(0,i.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Poems"}),(0,i.jsx)(F.Ay,{container:!0,spacing:2,children:n.Poems.map((e,t)=>(0,i.jsx)(F.Ay,{item:!0,xs:12,children:(0,i.jsxs)(U.A,{elevation:2,sx:{p:2,backgroundColor:o?"#444":"#f5f5f5"},children:[(0,i.jsx)(A.A,{variant:"subtitle1",children:e.Title}),(0,i.jsx)(A.A,{variant:"body1",style:{whiteSpace:"pre-line"},children:e.Content}),e.Author&&(0,i.jsxs)(A.A,{variant:"subtitle2",sx:{mt:1,fontStyle:"italic"},children:["- ",e.Author]})]})},t))})]}),n.Activities&&n.Activities.length>0&&(0,i.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,i.jsx)(f.A,{sx:{my:2}}),(0,i.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Activities"}),(0,i.jsx)(F.Ay,{container:!0,spacing:2,children:n.Activities.map((e,t)=>(0,i.jsx)(F.Ay,{item:!0,xs:12,children:(0,i.jsxs)(U.A,{elevation:2,sx:{p:2,backgroundColor:o?"#444":"#f5f5f5"},children:[(0,i.jsx)(A.A,{variant:"subtitle1",children:e.Title}),(0,i.jsx)(A.A,{variant:"body2",paragraph:!0,children:e.Description}),e.Date&&(0,i.jsx)(A.A,{variant:"caption",color:"text.secondary",children:e.Date}),e.Link&&(0,i.jsx)(M.A,{variant:"text",color:"primary",href:e.Link,target:"_blank",rel:"noopener noreferrer",sx:{mt:1},children:"Learn More"})]})},t))})]}),n.relatedUrls&&n.relatedUrls.length>0&&(0,i.jsxs)(F.Ay,{item:!0,xs:12,children:[(0,i.jsx)(f.A,{sx:{my:2}}),(0,i.jsx)(A.A,{variant:"h6",gutterBottom:!0,children:"Related Links"}),(0,i.jsx)(F.Ay,{container:!0,spacing:2,children:n.relatedUrls.map((e,t)=>(0,i.jsx)(F.Ay,{item:!0,xs:12,children:(0,i.jsx)(M.A,{href:e.url,target:"_blank",rel:"noopener noreferrer",variant:"outlined",fullWidth:!0,children:e.title})},t))})]})]})}),(0,i.jsx)(_.A,{children:(0,i.jsx)(M.A,{onClick:r,color:"primary",children:"Close"})})]}):null};var R=r(2127);let z=[32.2217,-110.9265],Y=(0,l.divIcon)({className:"custom-div-icon",html:'<div style="background-color: #e74c3c; width: 12px; height: 12px; border-radius: 50%; border: 2px solid white;"></div>',iconSize:[12,12],iconAnchor:[6,6],popupAnchor:[0,-5]}),q=(0,l.divIcon)({className:"custom-div-icon",html:'<div style="background-color:rgb(0, 255, 247); width: 16px; height: 16px; border-radius: 50%; border: 3px solid blue; box-shadow: 0 0 10px rgba(231, 76, 60, 0.5);"></div>',iconSize:[16,16],iconAnchor:[8,8],popupAnchor:[0,-5]});function V(){let{projects:e,filteredProjects:t,filterProjects:r,categories:l}=function(){let[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)([]),[o,s]=(0,n.useState)([]),[a,l]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:3001/api/projects");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let r=await e.json();t(r),i(r);let n=await fetch("http://localhost:3001/api/projects/categories");if(!n.ok)throw Error("HTTP error! status: ".concat(n.status));let o=await n.json();s(o)}catch(e){console.error("Error fetching data:",e),l(e.message)}})()},[]),{projects:e,filteredProjects:r,categories:o,error:a,filterProjects:t=>{if(!t){i(e);return}i(e.filter(e=>e.projectCategory===t))},getProjectsWithArtworks:()=>e.filter(e=>e.artworks&&e.artworks.length>0),getProjectsWithPoems:()=>e.filter(e=>e.poems&&e.poems.length>0),getUniqueActivities:()=>{let t=new Set;return e.forEach(e=>{e.activities&&e.activities.forEach(e=>{t.add(e)})}),Array.from(t)}}}(),[c,d]=(0,n.useState)(""),[h,x]=(0,n.useState)(null),[u,p]=(0,n.useState)(!1),j=(0,n.useRef)({});(0,n.useRef)(null);let[m,A]=(0,n.useState)(null),g=e=>{x(e),p(!0)};return(0,n.useEffect)(()=>{t&&t.forEach((e,t)=>{let r="".concat(e.Name,"-").concat(t),i=j.current[r];if(i){let r=document.createElement("div");r.innerHTML='\n          <div class="popup-content">\n            <img \n              src="'.concat(e.ImageUrl||"https://via.placeholder.com/150",'" \n              alt="').concat(e.Name,'" \n              class="popup-image" \n            />\n            <strong>').concat(e.Name,'</strong>\n            <p class="popup-description">').concat(e.DescriptionShort||e.Description||"",'</p>\n            <button id="more-details-').concat(t,'" class="popup-button">\n              More Details\n            </button>\n          </div>\n        ');let n=R.L({hasTip:!1,autoPan:!0}).setContent(r);i.bindPopup(n),i.on("click",()=>{Object.values(j.current).forEach(e=>{e&&e.setIcon(Y)}),i.setIcon(q),A(i)}),i.on("popupopen",()=>{Object.values(j.current).forEach(e=>{e&&e.setIcon(Y)}),i.setIcon(q),A(i)}),i.on("popupclose",()=>{i.setIcon(Y),A(null)});let o=r.querySelector("#more-details-".concat(t));o&&o.addEventListener("click",()=>{g(e)})}})},[t]),(0,i.jsxs)("div",{className:"map-container",children:[(0,i.jsxs)(o.W,{center:z,zoom:11,style:{height:"100vh",width:"100%"},children:[(0,i.jsx)(s.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),null==t?void 0:t.map((e,t)=>{let r="".concat(e.Name,"-").concat(t);return(0,i.jsx)(a.p,{position:[e.Latitude,e.Longitude],icon:Y,ref:e=>{e&&(j.current[r]=e)}},r)}),(0,i.jsx)(I,{filteredProjects:t,onSelectCategory:r,selectedCategory:c,markerRefs:j,categories:l})]}),h&&(0,i.jsx)(H,{project:h,open:u,onClose:()=>{p(!1),x(null)}})]})}}}]);